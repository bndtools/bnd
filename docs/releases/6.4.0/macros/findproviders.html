<!DOCTYPE html>
<html lang="en" ng-app="jpm">

	<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="/releases/6.4.0/css/style.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="/js/releases.js"></script>

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>findproviders ‘;’ namespace ( ‘;’ FILTER ( ‘;’ STRATEGY)? )? | bnd</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="findproviders ‘;’ namespace ( ‘;’ FILTER ( ‘;’ STRATEGY)? )?" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The findproviders macro gives access to the resources in the Workspace repositories, including the projects itself. Its semantics match the OSGi Repository.findProviders() method." />
<meta property="og:description" content="The findproviders macro gives access to the resources in the Workspace repositories, including the projects itself. Its semantics match the OSGi Repository.findProviders() method." />
<meta property="og:site_name" content="bnd" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="findproviders ‘;’ namespace ( ‘;’ FILTER ( ‘;’ STRATEGY)? )?" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"The findproviders macro gives access to the resources in the Workspace repositories, including the projects itself. Its semantics match the OSGi Repository.findProviders() method.","headline":"findproviders ‘;’ namespace ( ‘;’ FILTER ( ‘;’ STRATEGY)? )?","url":"/releases/6.4.0/macros/findproviders.html"}</script>
<!-- End Jekyll SEO tag -->


	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

</head>


<body>

	
<ul class="container12 menu-bar" style="display:flex;align-items:center">
	<li span=8><a class=menu-link href="/releases/6.4.0/"><img
			class=menu-logo src="/releases/6.4.0/img/bnd-80x40-white.png"></a>
			<a href="/releases/6.4.0/chapters/110-introduction.html">Intro
			</a><a href="/releases/6.4.0/chapters/800-headers.html">Headers
			</a><a href="/releases/6.4.0/chapters/825-instructions-ref.html">Instructions
			</a><a href="/releases/6.4.0/chapters/855-macros-ref.html">Macros
			</a><a href="/releases/6.4.0/chapters/400-commands.html">Commands
			</a><div class="releases">
			         <button class="dropbtn"><span class="fa fa-bars"></span> 6.4.0</button>
			         <div class="dropdown-content"></div>
			   </div>
    <li span=4>     
        <div class="search-container">
			<form method="get" id="search" action="https://google.com/search" target="_blank">
			    <input type="hidden" name="as_q" value="site:bndtools.org OR site:bnd.discourse.group"/>
			    <input type="text" name="q" placeholder="Search…" aria-label="Search https://google.com for bnd specific"/>
			    <button type="submit" class="fa fa-search"></button>
            </form>
       </div>
</ul>
<div class=menu-link span=0><a href="https://github.com/bndtools/bnd" target="_"><img
	style="position:absolute;top:0;right:0;margin:0;padding:0;z-index:100"
	src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67"
	alt="Fork me on GitHub"
	data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a></div>



					

	<ul class=container12>
		<li span=3>
			<div>
			<ul class="side-nav">
	
		
			<li><a href="/releases/6.4.0/chapters/110-introduction.html">Introduction</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/120-install.html">How to install bnd</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/123-tour-workspace.html">Guided Tour</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/125-tour-features.html">Guided Tour Workspace & Projects</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/130-concepts.html">Concepts</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/140-best-practices.html">Best practices</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/150-build.html">Build</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/155-project-setup.html">Project Setup</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/160-jars.html">Generating JARs</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/170-versioning.html">Versioning</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/180-baselining.html">Baselining</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/200-components.html">Service Components</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/210-metatype.html">Metatype</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/220-contracts.html">Contracts</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/230-manifest-annotations.html">Bundle Annotations</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/235-accessor-properties.html">Accessor Properties</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/240-spi-annotations.html">SPI Annotations</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/250-resolving.html">Resolving Dependencies</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/300-launching.html">Launching</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/305-startlevels.html">Startlevels</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/310-testing.html">Testing</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/315-launchpad-testing.html">Testing with Launchpad</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/320-packaging.html">Packaging Applications</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/330-jpms.html">JPMS Libraries</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/390-wrapping.html">Wrapping Libraries to OSGi Bundles</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/395-generating-documentation.html">Generating Documentation</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/400-commands.html">Commands</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/600-developer.html">For Developers</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/650-windows.html">Tips for Windows users</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/700-tools.html">Tools bound to bnd</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/790-reference.html">Reference</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/800-headers.html">Headers</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/820-instructions.html">Instruction Reference</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/825-instructions-ref.html">Instruction Index</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/850-macros.html">Macro Reference</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/855-macros-ref.html">Macro Index</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/870-plugins.html">Plugins</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/875-external-plugins.html">External Plugins</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/880-settings.html">Settings</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/900-errors.html">Errors</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/910-warnings.html">Warnings</a>
	  	
  	
		
			<li><a href="/releases/6.4.0/chapters/920-faq.html">Frequently Asked Questions</a>
	  	
  	
</ul>

			</div>
			
		<li span=9>
			<div class=notes-margin>
			
				<h1> findproviders  ';' namespace ( ';' FILTER ( ';' STRATEGY)? )?               
                 <div class="pageclass" onclick="window.location.href='/chapters/790-reference.html';">
                     Workspace
                   </div>
                     
				</h1>
				<p>The <code class="language-plaintext highlighter-rouge">findproviders</code> macro gives access to the resources in the Workspace repositories, including the projects itself. Its semantics match the OSGi <code class="language-plaintext highlighter-rouge">Repository.findProviders()</code> method.</p>

<p>It was added to support the use case of including a set of plugins in a resolve to create an executable. Since it is impossible to add a requirement that will add all matching resources, the <code class="language-plaintext highlighter-rouge">findproviders</code> macro can be used to find these resources and then turn them into initial requirements. However, this macro will likely find many other use cases since it is quite versatile. If used outside of <code class="language-plaintext highlighter-rouge">bndrun</code> files, it can cause circular builds because it might want to search the project that is used in. Use the REPOS Strategy in this case.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>findproviders ::= namespace ( ';' FILTER ( ';' STRATEGY)? )?
namespace     ::= ... OSGi namespace
FILTER        ::= Any LDAP Styled Filter
STRATEGY      ::= 'ALL' | 'WORKSPACE' | 'REPOS'
</code></pre></div></div>

<p>If no filter is given or the filter attribute is empty, then all resources that have a capability in the given namespace are returned.</p>

<p>The following strategies are available:</p>

<table>
  <thead>
    <tr>
      <th>Strategy</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ALL</td>
      <td>Searches in the Workspace and all configured Repositories</td>
    </tr>
    <tr>
      <td>REPOS</td>
      <td>Searches only in configured Repositories</td>
    </tr>
    <tr>
      <td>WORKSPACE</td>
      <td>Searches in Workspace projects only</td>
    </tr>
  </tbody>
</table>

<p>The result is in <code class="language-plaintext highlighter-rouge">PARAMETERS</code> format, to common format in bnd and OSGi. In this case the <em>key</em> will be the Bundle Symbolic Name and the attributes will <em>at least</em> contain the Bundle version. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>${findproviders;osgi.service}
</code></pre></div></div>

<p>This finds all resources that have an <code class="language-plaintext highlighter-rouge">osgi.service</code> capability. This could return something like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>com.h2database;version=1.4.198,
org.apache.aries.async;version=1.0.1,
org.apache.felix.configadmin;version=1.9.12,
org.apache.felix.coordinator;version=1.0.2,
org.apache.felix.eventadmin;version=1.5.0,
...
</code></pre></div></div>

<p>This <code class="language-plaintext highlighter-rouge">PARAMETERS</code> format is <em>structured</em> because it has attributes; that makes it harder to use with all kind of other macros. The <a href="template.html"><code class="language-plaintext highlighter-rouge">template</code></a> macro was intended to help out. This macro takes the name of macro and then treats the contents as a  <code class="language-plaintext highlighter-rouge">PARAMETERS</code>. It then applies a <em>template</em> to each clause in the PARAMETERS. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>my.plugins = ${findproviders;osgi.service;\
  (objectClass=com.example.my.Plugin)}
-runrequires.plugins = ${template;my.plugins;\
  osgi.identity;filter:='(osgi.identity=${@})'}
</code></pre></div></div>

<p>This would turn the previous example into:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-runrequires.plugins = \
    osgi.identity;filter:='(osgi.identity=com.h2database)',
    osgi.identity;filter:='(osgi.identity=org.apache.aries.async)',
    ..
</code></pre></div></div>

<h2 id="maven-support">Maven support</h2>

<p>The usage of the <code class="language-plaintext highlighter-rouge">findproviders</code> macro as depicted above also works when used in the context of one of the <a href="https://github.com/bndtools/bnd/tree/master/maven">Maven plugins</a>.</p>


			</div>
	</ul>

	
<nav class=next-prev>
	<a href='/releases/6.4.0/macros/findpath.html'></a> <a href='/releases/6.4.0/macros/first.html'></a>
</nav>
<footer class="container12" style="border-top: 1px solid black;padding:10px 0">
	<ul span=12 row>
		<li span=12>
			<ul>
				<li><a href="/releases/6.4.0/">GitHub</a>
			</ul>
	</ul>
</footer>

</body>
</html>
