<!DOCTYPE html>
<html lang="en" ng-app="jpm">

	<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="/releases/7.2.0/css/style.css" rel="stylesheet" />
<link rel="stylesheet" href="/css/github.dark.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="sitemap" type="application/xml" title="bnd Sitemap" href="/sitemap.xml">
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="/js/releases.js"></script>

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>P2 Exporter | bnd</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="P2 Exporter" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The Bnd Export plugin is a powerful tool that enables the export of a p2 repository. This manual will guide you through the process of using the plugin effectively." />
<meta property="og:description" content="The Bnd Export plugin is a powerful tool that enables the export of a p2 repository. This manual will guide you through the process of using the plugin effectively." />
<meta property="og:site_name" content="bnd" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-12-27T00:11:56+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="P2 Exporter" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-12-27T00:11:56+01:00","datePublished":"2025-12-27T00:11:56+01:00","description":"The Bnd Export plugin is a powerful tool that enables the export of a p2 repository. This manual will guide you through the process of using the plugin effectively.","headline":"P2 Exporter","mainEntityOfPage":{"@type":"WebPage","@id":"/releases/7.2.0/plugins/p2export.html"},"url":"/releases/7.2.0/plugins/p2export.html"}</script>
<!-- End Jekyll SEO tag -->


	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

</head>


<body>
	
<ul class="container12 menu-bar" style="display:flex;align-items:center">
	<li span=8><a class=menu-link href="/releases/7.2.0/"><img
			class=menu-logo src="/releases/7.2.0/img/bnd-80x40-white.png"></a>
			<a 
				class="" 
				href="/releases/7.2.0/chapters/110-introduction.html">Intro
			</a>
			<a 
				class=""
				href="/releases/7.2.0/chapters/800-headers.html">Headers
			</a>
			<a 
				class=""
				href="/releases/7.2.0/chapters/825-instructions-ref.html">Instructions
			</a>
			<a 
				class=""
				href="/releases/7.2.0/chapters/855-macros-ref.html">Macros
			</a>
			<a 
				class=""
				href="/releases/7.2.0/chapters/400-commands.html">Commands
			</a>
			<div class="releases">
				<button class="dropbtn"><span class="fa fa-bars"></span> 7.2.0</button>
				<div class="dropdown-content"></div>
			</div>
    <li span=4>     
        <div class="search-container">
			<button type="button" class="fa fa-search" onclick="openModal()"></button>
       </div>
</ul>
<div class=menu-link span=0><a
	id="repo-link"
	href="https://github.com/bndtools/bnd/blob/master/docs/_plugins/p2export.md"
	target="_blank"
>
	<img
		style="
			position: absolute;
			top: 0;
			right: 0;
			margin: 0;
			padding: 4px;
			z-index: 100;
			width: 45px;
		"
		src="/img/github-mark.svg"
		alt="Fork me on GitHub"
		title="Fork me on GitHub"
/></a>
</div>



					

	<ul class=container12>
		<li span=3>
			<div class="side-nav">
			
	
	<ul class="side-nav">
	<li><span class="side-nav-section">Getting Started</span>
		<ul class="side-nav">
		
			
				

					
					<li><a href="/releases/7.2.0/chapters/110-introduction.html">Introduction</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/120-install.html">How to install bnd</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/123-tour-workspace.html">Guided Tour Workspace & Projects</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/125-tour-features.html">bnd / bndlib Features and JAR Wrapping Techniques</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/920-faq.html">FAQ - Frequently Asked Questions</a></li>
					

				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Concepts and Practices</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/130-concepts.html">Concepts</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/135-history.html">Background</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/140-best-practices.html">Best practices</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Build and Development</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/150-build.html">Build</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/160-jars.html">Generating JARs</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/170-versioning.html">Versioning</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/180-baselining.html">Baselining</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/200-components.html">Service Components</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/210-metatype.html">Metatype</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/220-contracts.html">Contracts</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/230-manifest-annotations.html">Bundle Annotations</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/235-accessor-properties.html">Accessor Properties</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/240-spi-annotations.html">SPI Annotations</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Dependency and Launching</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/250-resolving.html">Resolving Dependencies</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/300-launching.html">Launching</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/305-startlevels.html">Startlevels</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Testing</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/310-testing.html">Testing</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/315-launchpad-testing.html">Testing with Launchpad</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Packaging and Distribution</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/320-packaging.html">Packaging Applications</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/330-jpms.html">JPMS Libraries</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/390-wrapping.html">Wrapping Libraries to OSGi Bundles</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Documentation and Tools</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/395-generating-documentation.html">Generating Documentation</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/400-commands.html">bnd CLI Commands</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/600-developer.html">For Developers</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/620-template-fragments.html">Templates for Workspaces</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/650-windows.html">Tips for Windows users</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/700-tools.html">Tools bound to bnd</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Reference Material</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/790-reference.html">Reference</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/800-headers.html">Headers</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/820-instructions.html">Instruction Reference</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/825-instructions-ref.html">Instruction Index</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/850-macros.html">Macro Reference</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/855-macros-ref.html">Macro Index</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/870-plugins.html">Plugins</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/875-external-plugins.html">External Plugins</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Configuration and Troubleshooting</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/880-settings.html">Settings</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/900-errors.html">Errors</a></li>
					

				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/910-warnings.html">Warnings</a></li>
					

				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>




			</div>
			
		<li span=9>
			<div class=notes-margin>

<main data-pagefind-body>
				<div class="page-header">
					<h1 data-pagefind-filter="pagetype:plugins"> P2 Exporter</h1>
					<div class="container-right">
						<nav class="next-prev" data-pagefind-ignore>
     
    <a href='/releases/7.2.0/plugins/osgirepo.html' title="OSGi Repository">Prev</a> 
     
    
    <a href='/releases/7.2.0/plugins/p2repo.html' title="P2 Repository">Next</a>
     
</nav>
						
						
						<div class="pageclass" onclick="window.location.href='/chapters/790-reference.html';">
							Project
						</div>
						
						
					</div>
					
				</div>




An exporter to export features from a bnd build
<br /><br />

				<p>The Bnd Export plugin is a powerful tool that enables the export of a p2 repository. This manual will guide you through the process of using the plugin effectively.</p>

<p>The plugin is activated by adding it to the <code class="language-shell highlighter-rouge"><span class="nt">-plugin</span></code> clauses of the <code class="language-shell highlighter-rouge">build.bnd</code>. It takes no configuration. In the Bndtools, there is a context menu to help.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-plugin</span> <span class="se">\</span>
    aQute.p2.export.P2Exporter
</code></pre></div></div>

<p>If this plugin is present in your workspace, a project can define an <em>export</em> instruction. The export instruction
looks as follows:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-export</span> <span class="se">\</span>
    release.bndrun<span class="p">;</span> <span class="se">\</span>
        <span class="nb">type</span><span class="o">=</span>p2<span class="p">;</span> <span class="se">\</span>
        <span class="nv">name</span><span class="o">=</span>MyReleaseRepo.jar
</code></pre></div></div>

<p>With this instruction, the plugin exports a p2 repository named “MyReleaseRepo.jar” containing the specified features, plugins, and metadata. You can also include additional requirements and customize various aspects of the repository using Bnd’s capabilities. The key is the master release bndrun file, the specified type is for a p2 repository.</p>

<h2 id="p2-signing-using-pgp-signatures">P2 Signing using PGP signatures</h2>

<p>The p2 infrastructure analyzes the integrity and trustworthiness of artifacts during provisioning and installation, to guarantee artifact integrity, and also to help users decide whether or not to trust a particular artifact source (see <a href="https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fguide%2Fp2_pgp.html">Using PGP Signatures in p2</a>).</p>

<p>The P2Export supports signing via <code class="language-shell highlighter-rouge">gpg</code> and can be enabled with the <code class="language-shell highlighter-rouge"><span class="nv">sign</span><span class="o">=</span><span class="nb">true</span></code> option. 
Without any further options this will sign each artifact using <code class="language-shell highlighter-rouge">gpg</code> (must be installed on the machine).</p>

<p>Example:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c"># key (mandatory - name of the key), </span>
<span class="c"># passphrase (optional passphrase for the pgp key)</span>
<span class="c"># pubkey (mandatory: the public key - read publickey file e.g. from ~./bnd/ folder)</span>

<span class="nv">sign</span><span class="o">=</span><span class="k">${</span><span class="nv">global</span><span class="p">;p2.sign;</span><span class="k">${</span><span class="nv">env</span><span class="p">;P2_SIGN;false</span><span class="k">}}</span>
<span class="nv">key</span><span class="o">=</span><span class="k">${</span><span class="nv">global</span><span class="p">;p2.sign_key;</span><span class="k">${</span><span class="nv">env</span><span class="p">;P2_SIGN_KEY</span><span class="k">}}</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="k">${</span><span class="nv">global</span><span class="p">;p2.sign_passphrase;</span><span class="k">${</span><span class="nv">env</span><span class="p">;P2_SIGN_PASSPHRASE</span><span class="k">}}</span>
<span class="nv">pubkey</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">global</span><span class="p">;p2.pub_key;</span><span class="k">${</span><span class="nv">env</span><span class="p">;P2_PUB_KEY</span><span class="k">}}</span><span class="s2">"</span>

<span class="nt">-export</span> features.bnd<span class="p">;</span> <span class="se">\</span>
    <span class="nb">type</span><span class="o">=</span>p2<span class="p">;</span> <span class="se">\</span>
    <span class="nv">name</span><span class="o">=</span>bndtools.jar<span class="p">;</span><span class="se">\</span>
    <span class="nv">sign</span><span class="o">=</span><span class="k">${</span><span class="nv">sign</span><span class="k">}</span><span class="p">;</span><span class="se">\</span>
    <span class="nv">sign_key</span><span class="o">=</span><span class="k">${</span><span class="nv">key</span><span class="k">}</span><span class="p">;</span><span class="se">\</span>
    <span class="nv">sign_pubkey</span><span class="o">=</span><span class="k">${</span><span class="nv">pubkey</span><span class="k">}</span><span class="p">;</span><span class="se">\</span>
    <span class="nv">sign_passphrase</span><span class="o">=</span><span class="k">${</span><span class="nv">passphrase</span><span class="k">}</span>
</code></pre></div></div>

<p>In the example above the idea is to first check global variables in <code class="language-shell highlighter-rouge">~./bnd/settings.json</code> (via <code class="language-shell highlighter-rouge"><span class="k">${</span><span class="nv">global</span><span class="k">}</span></code> macro) and fallback to environment (via <code class="language-shell highlighter-rouge"><span class="k">${</span><span class="nv">env</span><span class="k">}</span></code> macro) if not found.<br />
For example if you are using Github Actions for your build you would set the environment variables via Github Secret variables.</p>

<h2 id="defining-the-features">Defining the features</h2>

<p>In the <code class="language-shell highlighter-rouge">release.bndrun</code> file you can specify the following aspects:</p>

<p>A list of features that needs to be included in this release under the macro <code class="language-shell highlighter-rouge">features</code>:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>features        <span class="o">=</span> <span class="se">\</span>
        bndtools.main.feature.bndrun, <span class="se">\</span>
        bndtools.m2e.feature.bndrun, <span class="se">\</span>
        bndtools.pde.feature.bndrun The list must point to the paths of bndrun files. Each bndrun file will contain specific information <span class="k">for </span>the feature. The bndrun files inherit from the <span class="sb">`</span>release.bndrun<span class="sb">`</span> file and <span class="k">then </span>from the workspace.
</code></pre></div></div>

<p>The update URL and label can also be specified with macros:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>update          <span class="o">=</span>   https://bndtools.jfrog.io/bndtools/update-latest
update.label    <span class="o">=</span>   Bndtools Update Site
</code></pre></div></div>

<p>Each feature can participate in a number of categories. The category definitions look as follows:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-categories</span> <span class="se">\</span>
    bndtools<span class="p">;</span> <span class="se">\</span>
        label <span class="o">=</span> Bndtools<span class="p">;</span> <span class="se">\</span>
        description <span class="o">=</span> Bndtools, the incredible IDE <span class="k">for </span>OSGi
</code></pre></div></div>

<p>This can be repeated by adding more clauses. A feature’s bndrun file must set the Bundle-Category that is then matched in this list fo the label and description.</p>

<p>And last but not least, general header files.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Bundle-Version  7.0.0
Bundle-License:  <span class="se">\</span>
    ASL-2.0<span class="p">;</span><span class="se">\</span>
        <span class="nv">description</span><span class="o">=</span><span class="s2">"This program and the accompanying materials are made available under the terms of the Apache License, Version 2.0"</span><span class="p">;</span><span class="se">\</span>
        <span class="nb">link</span><span class="o">=</span><span class="s2">"https://opensource.org/licenses/Apache-2.0"</span>
        

Bundle-DocURL:          https://bnd.bndtools.org/
Bundle-Vendor           bnd
Bundle-Copyright:       Copyright bndtools
</code></pre></div></div>

<p>These headers are inherited in the features and can be overridden.</p>

<p><strong>Note on <code class="language-shell highlighter-rouge">Bundle-License</code> for long license texts:</strong></p>

<p>License text typically must be included in full, which means they are very long and contain line breaks, double quotes and so on. This is hard to add to a <code class="language-shell highlighter-rouge">.bnd</code> header in a <code class="language-shell highlighter-rouge">description</code> property as above.</p>

<p>In such cases use the <code class="language-shell highlighter-rouge">file</code> property which expects the name of a file relative to the current <code class="language-shell highlighter-rouge">release.bndrun</code> containing a long license text.</p>

<p><strong>Example:</strong></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Bundle-License:  <span class="se">\</span>
    ASL-2.0<span class="p">;</span><span class="se">\</span>
        <span class="nv">file</span><span class="o">=</span><span class="s2">"license.txt"</span><span class="p">;</span><span class="se">\</span>
        <span class="nb">link</span><span class="o">=</span><span class="s2">"https://opensource.org/licenses/Apache-2.0"</span>
</code></pre></div></div>

<p>This includes the content of the file <code class="language-shell highlighter-rouge">license.txt</code> (located next to <code class="language-shell highlighter-rouge">release.bndrun</code>) into the <code class="language-shell highlighter-rouge">&lt;license&gt;</code> tags in the resulting feature.xml (or <code class="language-shell highlighter-rouge">content.xml</code>).
This works much better for complex license texts.</p>

<p>Also note that a feature can just contain a single license. This is because the <a href="https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fmisc%2Ffeature_manifest.html">P2 feature.xml</a> just allows a single license. While on the other hand the <code class="language-shell highlighter-rouge">content.xml</code> can contain multiple <code class="language-shell highlighter-rouge">&lt;license&gt;</code> entries wrapped by a <code class="language-shell highlighter-rouge">&lt;licenses&gt;</code> tag.</p>

<h2 id="feature-definitions">Feature Definitions</h2>

<p>Please note that the features you specify must be valid bndrun/feature files. The bndrun files inherit from the Workspace. It is therefore possible to set shared values in the workspace and use them in the bndrun files. For example, you can set the <code class="language-shell highlighter-rouge">Bundle-Version</code> in the workspace and use it in all the feature bndrun files.</p>

<p>Although the features are not bundles, the exporter treats them as such. This means that most of the OSGi headers used for bundles can also be used for features. For example, you can set the <code class="language-shell highlighter-rouge">Bundle-License</code> header in the manifest file of a feature to specify licensing information for that feature.</p>

<p>The following headers can be used in the feature files.</p>

<ul>
  <li><code class="language-shell highlighter-rouge">Bundle-Name</code> – Human readable name of the feature</li>
  <li><code class="language-shell highlighter-rouge">Bundle-SymbolicName</code> – Used for the feature id. This is default the same as the name of the feature/bndrun file.</li>
  <li><code class="language-shell highlighter-rouge">Bundle-Description</code> – A human readable description of the feature</li>
  <li><code class="language-shell highlighter-rouge">Bundle-DocUrl</code> – A URL to the documentation of the feature</li>
  <li><code class="language-shell highlighter-rouge">Bundle-Copyright</code> – The copyright</li>
  <li><code class="language-shell highlighter-rouge">Bundle-License</code> – The license</li>
  <li><code class="language-shell highlighter-rouge">Bundle-Category</code> – The category of the feature</li>
  <li><code class="language-shell highlighter-rouge">Bundle-Vendor</code> – The vendor will be used as the provider of the feature</li>
</ul>

<p>The format of these headers is exactly as outlined by their OSGi specification.</p>

<p>Features can require bundles and other features.</p>

<p>Bundles will come from the <code class="language-shell highlighter-rouge"><span class="nt">-runbundles</span></code> instruction. This instruction can be managed with the resolver but it can also be set manually. Standard rules apply. The workspace is consulted to find the bundles and their versions. The bundles will be the highest available version in the repository.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-runbundles</span> <span class="se">\</span>
    biz.aQute.bnd.annotation<span class="p">;</span><span class="nv">version</span><span class="o">=</span>5.0.0,<span class="se">\</span>
    org.apache.felix.gogo.runtime<span class="p">;</span><span class="nv">version</span><span class="o">=</span>1.1.0
</code></pre></div></div>

<p>Features can also require other features. Features, and theoretically other requirements can be added using the Require-Capability header. For this reason, a number of pseudo namespaces are created to make it more readable.</p>

<ul>
  <li><code class="language-shell highlighter-rouge">feature</code> – Specifies a feature</li>
  <li>p2 namespace – P2 namespaces are used to specify requirements for the feature. For example, <code class="language-shell highlighter-rouge">osgi.bundle</code> specifies a bundle requirement and <code class="language-shell highlighter-rouge">java.package</code> specifies a package requirement. This way, any P2 eclipse namespace can be added.</li>
</ul>

<p>These pseudo namespaces use the attributes <code class="language-shell highlighter-rouge">name</code> and <code class="language-shell highlighter-rouge">version</code> to specify the name and version <em>range</em> of the requirement. They do not require a filter since p2 lacks this concept.</p>

<p>The following example shows how to specify a feature requirement:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Require-Capability: <span class="se">\</span>
    feature<span class="p">;</span> <span class="se">\</span>
        <span class="nv">name</span><span class="o">=</span> com.example.my.first.feature<span class="p">;</span> <span class="se">\</span>
        <span class="nv">version</span><span class="o">=</span><span class="s1">'[1.1.0,1.1.0]'</span>
</code></pre></div></div>

<p>If no version is specified in a feature, it will default to the version of the requiring feature. This means that if you specify a feature requirement without a version, the version of the requiring feature will be used as the version requirement for the required feature.</p>

<h2 id="categories">Categories</h2>

<p>Features can be grouped in categories.A feature can be a member in a category by specifying the <code class="language-shell highlighter-rouge">Bundle-Category</code> header. The value of this header is the identity of the category. For example, the following header specifies that the feature belongs to the category “bndtools” and “java”:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Bundle-Category: bndtools, java
</code></pre></div></div>

<p>The release bndrun file provide the details of the category. The following example shows how to specify the details of the categories can be specified with the <code class="language-shell highlighter-rouge"><span class="nt">-categories</span></code> instruction in the project’s bnd.bnd file:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-categories</span> <span class="se">\</span>
    bndtools<span class="p">;</span> <span class="se">\</span>
        <span class="nv">label</span><span class="o">=</span>Bndtools<span class="p">;</span> <span class="se">\</span>
        <span class="nv">description</span><span class="o">=</span>Bndtools is a <span class="nb">set </span>of tools <span class="k">for </span>OSGi development,<span class="se">\</span>
    java<span class="p">;</span> <span class="se">\</span>
        <span class="nv">label</span><span class="o">=</span>Java ©<span class="p">;</span> <span class="se">\</span>
        <span class="nv">description</span><span class="o">=</span>The Java language
</code></pre></div></div>

<h2 id="output">Output</h2>

<p>The output will be a self contained p2 repository contained in a JAR file. it contains the following:</p>

<ul>
  <li><code class="language-shell highlighter-rouge">content.jar</code> – This is the metadata of the repository</li>
  <li><code class="language-shell highlighter-rouge">artifacts.jar</code> – A list of all the artifacts in the repository and rules how to map an id to a file in the p2 archive.</li>
  <li><code class="language-shell highlighter-rouge">plugins/</code> – A directory with all the bundles in the repository</li>
  <li><code class="language-shell highlighter-rouge">features/</code> – A directory with all the features in the repository</li>
</ul>

<p>The repository can be used as a drop-in replacement for the Eclipse p2 repository. It can be used to update an Eclipse installation or to install a new Eclipse installation.</p>

<h2 id="sample-setup">Sample Setup</h2>

<p>In the workspace’s <code class="language-shell highlighter-rouge">cnf/build.bnd</code> file:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-plugin</span> <span class="se">\</span>
    aQute.p2.export.P2Exporter

Bundle-Version: 1.0.0
Bundle-Vendor: Example
Bundle-License: Apache-2.0
Bundle-Copyright: Public domain
</code></pre></div></div>

<p>In project X’s <code class="language-shell highlighter-rouge">bnd.bnd</code> file:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-export</span> <span class="se">\</span>
    release.bndrun<span class="p">;</span> <span class="se">\</span>
		<span class="nb">type</span><span class="o">=</span>p2<span class="p">;</span><span class="se">\</span>
        <span class="nv">name</span><span class="o">=</span>myrepo.jar<span class="p">;</span> <span class="se">\</span>
</code></pre></div></div>

<p>In <code class="language-shell highlighter-rouge">release.bndrun</code> file (this file will control the content of <code class="language-shell highlighter-rouge">META-INF/MANIFEST.MF</code> in the resulting <code class="language-shell highlighter-rouge">myrepo.jar</code>. It inherits everything from <code class="language-shell highlighter-rouge">cnf/build.bnd</code>, but NOT from the project’s  <code class="language-shell highlighter-rouge">bnd.bnd</code>):</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Bundle-SymbolicName: myrepo

<span class="nv">features</span><span class="o">=</span>	a.bndrun,<span class="se">\</span>
			b.bndrun

<span class="nt">-categories</span> <span class="se">\</span>
    java<span class="p">;</span> <span class="se">\</span>
        <span class="nv">label</span><span class="o">=</span>Java ©<span class="p">;</span> <span class="se">\</span>
        <span class="nv">description</span><span class="o">=</span>The Java language
</code></pre></div></div>

<p>In the <code class="language-shell highlighter-rouge">a.bndrun</code> file:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Bundle-Name: A
Bundle-SymbolicName: com.example.a
Bundle-Description: A feature called A!
Bundle-Category: java
Bundle-DocUrl: https://example.com/a

Require-Capability: <span class="se">\</span>
    feature<span class="p">;</span> <span class="se">\</span>
        <span class="nv">name</span><span class="o">=</span> com.example.b

<span class="nt">-runbundles</span>: <span class="se">\</span>
    com.example.util, <span class="se">\</span>
    com.example.a
</code></pre></div></div>

<p>In the <code class="language-shell highlighter-rouge">b.bndrun</code> file:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Bundle-Name: B
Bundle-SymbolicName: com.example.b
Bundle-Description: A feature called B!
Bundle-Category: java
Bundle-DocUrl: https://example.com/b

<span class="nt">-runbundles</span>: <span class="se">\</span>
    com.example.util, <span class="se">\</span>
    com.example.util2
    com.example.b
</code></pre></div></div>

<p>This will generate a p2 archive called <code class="language-shell highlighter-rouge">myrepo.jar</code> in the project’s <code class="language-shell highlighter-rouge">generated</code> folder with:</p>

<ul>
  <li><code class="language-shell highlighter-rouge">META-INF</code>
    <ul>
      <li><code class="language-shell highlighter-rouge">MANIFEST.MF</code></li>
    </ul>
  </li>
  <li><code class="language-shell highlighter-rouge">artifacts.jar</code>
    <ul>
      <li><code class="language-shell highlighter-rouge">artifacts.xml</code> – A list of all the artifacts in the repository and rules how to map an id to a file in the p2 archive.</li>
    </ul>
  </li>
  <li><code class="language-shell highlighter-rouge">content.jar</code>
    <ul>
      <li><code class="language-shell highlighter-rouge">content.xml</code> – The metadata of the repository
        <ul>
          <li>repository metadata with name X, version 1.0.0, and provider Example</li>
          <li>for each feature, an jar IU and group IU</li>
          <li>for each bundle, a bundle IU</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><code class="language-shell highlighter-rouge">features/</code>
    <ul>
      <li><code class="language-shell highlighter-rouge">a-1.0.0.jar</code>
        <ul>
          <li><code class="language-shell highlighter-rouge">feature.xml</code> – The feature metadata for feature a</li>
        </ul>
      </li>
      <li><code class="language-shell highlighter-rouge">b-1.0.0.jar</code>
        <ul>
          <li><code class="language-shell highlighter-rouge">feature.xml</code> – The feature metadata for feature b</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><code class="language-shell highlighter-rouge">p2.index</code></li>
  <li><code class="language-shell highlighter-rouge">plugins/</code>
    <ul>
      <li><code class="language-shell highlighter-rouge">com.example.util-1.0.0.jar</code></li>
      <li><code class="language-shell highlighter-rouge">com.example.util2-1.0.0.jar</code></li>
      <li><code class="language-shell highlighter-rouge">com.example.a-1.0.0.jar</code></li>
      <li><code class="language-shell highlighter-rouge">com.example.b-1.0.0.jar</code></li>
    </ul>
  </li>
</ul>

<p>Note that bnd still creates a normal jar file for the project’s <code class="language-shell highlighter-rouge">bnd.bnd</code> with the usual <code class="language-shell highlighter-rouge">bsn.jar</code> name. If you set <code class="language-shell highlighter-rouge"><span class="nt">-export</span></code>’s <code class="language-shell highlighter-rouge">name</code> property also to <code class="language-shell highlighter-rouge">bsn.jar</code> then the P2Export will overwrite the normal <code class="language-shell highlighter-rouge">bsn.jar</code>.</p>

<p>A working example can be found in this <a href="https://github.com/bndtools/bnd/blob/master/biz.aQute.repository/testdata/p2-publish/ws-1/p1/bnd.bnd">testcase</a> and in bnd’s own <a href="https://github.com/bndtools/bnd/blob/master/org.bndtools.p2/bnd.bnd">org.bndtools.p2 bundle</a>.</p>

<h2 id="notes">Notes</h2>

<p>The p2 system defines its metadata primarily through its API, and its file formats are not formally standardized. As a result, much of the knowledge about these formats has been derived through reverse engineering of existing repositories. This approach ensures practical interoperability, but it also means that precise documentation of the formats has historically been limited.</p>

<p>The P2Exporter plugin in bnd generates metadata in a manner that is consistent with the formats observed in repositories used by bndtools. This alignment helps maintain compatibility and reduces the risk of discrepancies between bnd-generated artifacts and p2 expectations.</p>

<p>Since the understanding of these formats is based on reverse engineering rather than official specifications, the implementation may evolve as further insights are gained. Contributions and feedback from the community are therefore especially valuable to improve accuracy and maintain interoperability.</p>

				</main>
			</div>
	</ul>




	
<footer class="container12" style="border-top: 1px solid black;padding:10px 0">
	<div class="container-right">
		<nav class="next-prev" data-pagefind-ignore>
     
    <a href='/releases/7.2.0/plugins/osgirepo.html' title="OSGi Repository">Prev</a> 
     
    
    <a href='/releases/7.2.0/plugins/p2repo.html' title="P2 Repository">Next</a>
     
</nav>
	</div>

	<div class="modal" id="searchmodal" aria-hidden="true">
    <div class="modal_overlay" tabindex="-1">
        <div class="modal_container" role="dialog" aria-modal="true">
            <header class="modal_header" style="margin-bottom: 10px;">
                <b>
                    Search
                    <button class="modal_btn modal_btn-primary" data-modal-close=""
                        aria-label="Close this dialog window" style="float:right;">Close</button>
                </b>
            </header>
            <main class="modal_content" id="modalcontent">
                <div id="pagefindsearch"></div>
            </main>
            <footer class="modal_footer">

            </footer>
        </div>
    </div>
</div>

<style>
    /* Basic styling to hide/show the modal */
    .modal {
        display: none;
        /* Hidden by default */
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
    }

    /* Container for modal content */
    .modal_container {
        background: #fff;
        margin: 5% auto;
        /* Position the box somewhat centered */
        padding: 1rem;
        max-width: 600px;
        border-radius: 4px;
        position: relative;

        /* Height and overflow for scrolling */
        max-height: 80vh;
        /* Use 80% of the viewport height */
        overflow-y: auto;
        /* Enable scrolling within the modal */
    }

    /* When modal is open, display it */
    .modal.is-open {
        display: block;
    }
</style>

<script type="text/javascript">
    // Function to open the modal
    function openModal() {
        const modal = document.getElementById('searchmodal');
        // Change aria-hidden to false
        modal.setAttribute('aria-hidden', 'false');
        // Add a class to make it visible (assuming CSS uses .is-open to show)
        modal.classList.add('is-open');

        const searchFieldInput = document.querySelector('#modalcontent input');
        searchFieldInput.focus();

        // Define an event listener for the ESC key
        escapeKeyListener = function (event) {
            if (event.key === 'Escape' || event.key === 'Esc') {
                closeModal(modal);
            }
        };

        // Attach the ESC key event listener
        document.addEventListener('keydown', escapeKeyListener);

        // Attach click event listeners to close triggers
        attachCloseEvents(modal);
    }

    function attachCloseEvents(modal) {
        // Get all elements that can close the modal (overlay and close button)
        const closeElements = modal.querySelectorAll('[data-modal-close]');

        closeElements.forEach(el => {
            el.addEventListener('click', function handleClose() {
                closeModal(modal);
                // Remove this event listener once closed (cleanup)
                el.removeEventListener('click', handleClose);
            });
        });
    }

    // Function to close the modal
    function closeModal(modal) {
        modal.setAttribute('aria-hidden', 'true');
        modal.classList.remove('is-open');
    }
</script>



<link href="/releases/7.2.0/pagefindindex/pagefind-ui.css" rel="stylesheet">
<script src="/releases/7.2.0/pagefindindex/pagefind-ui.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({
            element: "#pagefindsearch",
            showSubResults: true,
            translations: {
                placeholder: "Search the bnd manual",
            },
            openFilters: ['pagetype']

        });
    });
</script>

	<ul span=12 row>
		<li span=12>
			<ul>
				<li><a href="/releases/7.2.0/">Home</a>
			</ul>
	</ul>

	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded', () => {
			const headers = document.querySelectorAll('h1[id], h2[id], h3[id], h4[id]');

			headers.forEach(header => {
				const iconLink = document.createElement('a');
				iconLink.href = `#${header.id}`;
				iconLink.innerHTML = '#';
				iconLink.className = 'header-link';

				// Wrap the icon inside a span to control visibility with CSS
				const wrapper = document.createElement('span');
				wrapper.className = 'header-link-wrapper';
				wrapper.appendChild(iconLink);

				// Append the wrapper to the header
				header.appendChild(wrapper);
			});
		});


		// copy to clipboard buttons

		const copyButtonLabel = "Copy";
		let blocks = document.querySelectorAll("pre.highlight");

		blocks.forEach((block) => {
		// only add button if browser supports Clipboard API
		if (navigator.clipboard) {
			let button = document.createElement("button");
			button.classList.add("copycodebtn");

			button.innerText = copyButtonLabel;
			block.appendChild(button);

			button.addEventListener("click", async () => {
			await copyCode(block, button);
			});

		}
		});

		async function copyCode(block, button) {
		let code = block.querySelector("code");
		let text = code.innerText;

		await navigator.clipboard.writeText(text);

		button.innerText = "Copied";

			setTimeout(()=> {
				button.innerText = copyButtonLabel;
			},2000)
		}
	</script>

</footer>

</body>
</html>
