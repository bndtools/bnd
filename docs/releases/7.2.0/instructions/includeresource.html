<!DOCTYPE html>
<html lang="en" ng-app="jpm">

	<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="/releases/7.2.0/css/style.css" rel="stylesheet" />
<link rel="stylesheet" href="/css/github.dark.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="sitemap" type="application/xml" title="bnd Sitemap" href="/sitemap.xml">
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="/js/releases.js"></script>

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>-includeresource iclause | bnd</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="-includeresource iclause" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Example: -includeresource: lib/=jar/, {preprocess.txt}, &#39;literal&#39;;literal;=true," />
<meta property="og:description" content="Example: -includeresource: lib/=jar/, {preprocess.txt}, &#39;literal&#39;;literal;=true," />
<meta property="og:site_name" content="bnd" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-12-27T00:11:56+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="-includeresource iclause" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-12-27T00:11:56+01:00","datePublished":"2025-12-27T00:11:56+01:00","description":"Example: -includeresource: lib/=jar/, {preprocess.txt}, &#39;literal&#39;;literal;=true,","headline":"-includeresource iclause","mainEntityOfPage":{"@type":"WebPage","@id":"/releases/7.2.0/instructions/includeresource.html"},"url":"/releases/7.2.0/instructions/includeresource.html"}</script>
<!-- End Jekyll SEO tag -->


	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

</head>


<body>
	
<ul class="container12 menu-bar" style="display:flex;align-items:center">
	<li span=8><a class=menu-link href="/releases/7.2.0/"><img
			class=menu-logo src="/releases/7.2.0/img/bnd-80x40-white.png"></a>
			<a 
				class="" 
				href="/releases/7.2.0/chapters/110-introduction.html">Intro
			</a>
			<a 
				class=""
				href="/releases/7.2.0/chapters/800-headers.html">Headers
			</a>
			<a 
				class="selected"
				href="/releases/7.2.0/chapters/825-instructions-ref.html">Instructions
			</a>
			<a 
				class=""
				href="/releases/7.2.0/chapters/855-macros-ref.html">Macros
			</a>
			<a 
				class=""
				href="/releases/7.2.0/chapters/400-commands.html">Commands
			</a>
			<div class="releases">
				<button class="dropbtn"><span class="fa fa-bars"></span> 7.2.0</button>
				<div class="dropdown-content"></div>
			</div>
    <li span=4>     
        <div class="search-container">
			<button type="button" class="fa fa-search" onclick="openModal()"></button>
       </div>
</ul>
<div class=menu-link span=0><a
	id="repo-link"
	href="https://github.com/bndtools/bnd/blob/master/docs/_instructions/includeresource.md"
	target="_blank"
>
	<img
		style="
			position: absolute;
			top: 0;
			right: 0;
			margin: 0;
			padding: 4px;
			z-index: 100;
			width: 45px;
		"
		src="/img/github-mark.svg"
		alt="Fork me on GitHub"
		title="Fork me on GitHub"
/></a>
</div>



					

	<ul class=container12>
		<li span=3>
			<div class="side-nav">
			
	
	<ul class="side-nav">
	<li><span class="side-nav-section">Getting Started</span>
		<ul class="side-nav">
		
			
				

					
					<li><a href="/releases/7.2.0/chapters/110-introduction.html">Introduction</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/120-install.html">How to install bnd</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/123-tour-workspace.html">Guided Tour Workspace & Projects</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/125-tour-features.html">bnd / bndlib Features and JAR Wrapping Techniques</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/920-faq.html">FAQ - Frequently Asked Questions</a></li>
					

				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Concepts and Practices</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/130-concepts.html">Concepts</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/135-history.html">Background</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/140-best-practices.html">Best practices</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Build and Development</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/150-build.html">Build</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/160-jars.html">Generating JARs</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/170-versioning.html">Versioning</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/180-baselining.html">Baselining</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/200-components.html">Service Components</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/210-metatype.html">Metatype</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/220-contracts.html">Contracts</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/230-manifest-annotations.html">Bundle Annotations</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/235-accessor-properties.html">Accessor Properties</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/240-spi-annotations.html">SPI Annotations</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Dependency and Launching</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/250-resolving.html">Resolving Dependencies</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/300-launching.html">Launching</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/305-startlevels.html">Startlevels</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Testing</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/310-testing.html">Testing</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/315-launchpad-testing.html">Testing with Launchpad</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Packaging and Distribution</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/320-packaging.html">Packaging Applications</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/330-jpms.html">JPMS Libraries</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/390-wrapping.html">Wrapping Libraries to OSGi Bundles</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Documentation and Tools</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/395-generating-documentation.html">Generating Documentation</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/400-commands.html">bnd CLI Commands</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/600-developer.html">For Developers</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/620-template-fragments.html">Templates for Workspaces</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/650-windows.html">Tips for Windows users</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/700-tools.html">Tools bound to bnd</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Reference Material</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/790-reference.html">Reference</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/800-headers.html">Headers</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/820-instructions.html">Instruction Reference</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/825-instructions-ref.html">Instruction Index</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/850-macros.html">Macro Reference</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/855-macros-ref.html">Macro Index</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/870-plugins.html">Plugins</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/875-external-plugins.html">External Plugins</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Configuration and Troubleshooting</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/880-settings.html">Settings</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/900-errors.html">Errors</a></li>
					

				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/910-warnings.html">Warnings</a></li>
					

				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>




			</div>
			
		<li span=9>
			<div class=notes-margin>

<main data-pagefind-body>
				<div class="page-header">
					<h1 data-pagefind-filter="pagetype:instructions"> -includeresource iclause</h1>
					<div class="container-right">
						<nav class="next-prev" data-pagefind-ignore>
     
    <a href='/releases/7.2.0/instructions/includepackage.html' title="-includepackage PACKAGE-SPEC, ( ',' PACKAGE-SPEC )*">Prev</a> 
     
    
    <a href='/releases/7.2.0/instructions/init.html' title="-init ${MACRO} ( ',' ${MACRO}) *">Next</a>
     
</nav>
						
						
						<div class="pageclass" onclick="window.location.href='/chapters/790-reference.html';">
							Builder & Executable
						</div>
						
						
					</div>
					
				</div>




Include resources from the file system

<br /><br />

				<ul>
  <li>
    <p>Example: <code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: lib/<span class="o">=</span>jar/, <span class="o">{</span>preprocess.txt<span class="o">}</span>, <span class="s1">'literal'</span><span class="p">;</span>literal<span class="p">;</span><span class="o">=</span><span class="nb">true</span>,</code></p>
  </li>
  <li>
    <p>Pattern: <code class="language-shell highlighter-rouge">.<span class="k">*</span></code></p>
  </li>
</ul>

<!-- Manual content from: ext/includeresource.md -->
<p><br /><br /></p>

<p>The purpose of <code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span></code> is to fill the JAR with non-class resources. In general these come from the file system. For example, today it is very common to have these type of resources in <code class="language-shell highlighter-rouge">src/main/resources</code>. This pattern can easily be simulated by bnd with the <code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span></code> instruction. However, since in OSGi the packaging is so important the <code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span></code> contains a number of options to minimize files on disk and speed up things.</p>

<p>The syntax of the <code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span></code> has become quite complex over time:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span> ::<span class="o">=</span> iclause <span class="o">(</span> <span class="s1">','</span> iclause <span class="o">)</span> <span class="k">*</span>
iclause          ::<span class="o">=</span> <span class="o">(</span>unroll | copy<span class="o">)</span> parameter<span class="k">*</span>
copy             ::<span class="o">=</span> <span class="s1">'{'</span> process <span class="s1">'}'</span> | process
process          ::<span class="o">=</span> assignment | <span class="nb">source
</span>assignment       ::<span class="o">=</span> PATH <span class="s1">'='</span> <span class="nb">source
source</span>           ::<span class="o">=</span> <span class="o">(</span><span class="s1">'-'</span><span class="o">)</span>? PATH parameter<span class="k">*</span>
unroll           ::<span class="o">=</span> <span class="s1">'@'</span> <span class="o">(</span>PATH | URL<span class="o">)</span> <span class="o">(</span> <span class="s1">'!/'</span> SELECTOR <span class="o">)</span>?
parameters       ::<span class="o">=</span> <span class="s1">'flatten:'</span> | <span class="s1">'recursive:'</span> | <span class="s1">'filter:'</span> | <span class="sb">`</span><span class="nt">-preprocessmatchers</span><span class="sb">`</span>
</code></pre></div></div>

<p>In the case of <code class="language-shell highlighter-rouge">assignment</code> or <code class="language-shell highlighter-rouge"><span class="nb">source</span></code>, the PATH parameter can point to a file or directory. It is also possible to use the name.ext path of a JAR file on the classpath, that is, ignoring the directory. The <code class="language-shell highlighter-rouge"><span class="nb">source</span></code> form will place the resource in the target JAR with only the file name, therefore without any path components. That is, including <code class="language-shell highlighter-rouge">src/a/b.c</code> will result in a resource <code class="language-shell highlighter-rouge">b.c</code> in the root of the target JAR.</p>

<p>If the PATH points to a directory, the directory name itself is not used in the target JAR path. If the resource must be placed in a sub directory of the target jar, use the <code class="language-shell highlighter-rouge">assignment</code> form. If the file is not found, bnd will traverse the classpath to see of any entry on the classpath matches the given file name (without the directory) and use that when it matches. The <code class="language-shell highlighter-rouge">inline</code> requires a ZIP or JAR file, which will be completely expanded in the target JAR (except the manifest), unless followed with a file specification. The file specification can be a specific file in the jar or a directory followed by <em>*or *. The** indicates recursively and the</em> indicates one level. If just a directory name is given, it will mean **.</p>

<p>The <code class="language-shell highlighter-rouge">filter:</code> directive is an optional filter on the resources. This uses the same format as the instructions. Only the file name is verified against this instruction.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Include-Resource: @osgi.jar,[<span class="o">=</span><span class="se">\ </span><span class="o">=]</span>
    <span class="o">{</span>LICENSE.txt<span class="o">}</span>,[<span class="o">=</span><span class="se">\ </span><span class="o">=]</span>
    acme/Merge.class<span class="o">=</span>src/acme/Merge.class
</code></pre></div></div>

<p>The <code class="language-shell highlighter-rouge"><span class="nt">-includeresources</span></code> instruction will be merged with all properties that starts with <code class="language-shell highlighter-rouge"><span class="nt">-includeresources</span><span class="k">*</span></code>.</p>

<h2 id="preprocessing">Preprocessing</h2>

<p>A clause contained in curly braces (<code class="language-shell highlighter-rouge"><span class="o">{</span></code> <code class="language-shell highlighter-rouge"><span class="o">}</span></code>) are <em>preprocessed</em>. While copying the files are run through the macro processor with the builder providing the properties. In the workspace model, all macros of the project are then available. Well known binary resources (as decided by their extension) are ignored. You can override the extension list with the <code class="language-shell highlighter-rouge"><span class="nt">-preprocessmatchers</span></code> instruction. This must be a a selector that takes the source file name as the input. The clause can also specify a local  <code class="language-shell highlighter-rouge"><span class="nt">-preprocessmatchers</span></code>. This selector is <em>prepended</em> to the either the default pre process matchers or the set pre process matchers. This allows for the selection or rejection of specific files and/or extensions.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span>: <span class="o">{</span>src/main/resources<span class="o">}</span>, <span class="o">{</span><span class="nv">legal</span><span class="o">=</span>contracts<span class="o">}</span>
</code></pre></div></div>

<h2 id="ignoring-missing-sources">Ignoring Missing Sources</h2>

<p>A <em>source</em> in the clause starting with a <code class="language-shell highlighter-rouge">-</code> sign will not generare an error when the source in the clause cannot be located. This is very convenient if you specify an global <code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span></code> instruction in <code class="language-shell highlighter-rouge">build.bnd</code>. For example, <code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>.all <span class="o">=</span> <span class="nt">-src</span>/main/resources</code> will not complain when a project does not have a <code class="language-shell highlighter-rouge">src/main/resources</code> directory. Note that the minus sign must be on the <em>source</em>. E.g.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="sb">`</span><span class="nt">-includeresource</span>.all <span class="o">=</span> <span class="o">{</span><span class="nv">foo</span><span class="o">=</span><span class="nt">-bar</span><span class="o">}</span><span class="sb">`</span>, <span class="nt">-foo</span>.txt
</code></pre></div></div>

<h2 id="rolling">Rolling</h2>

<p>There are two variants of the rolling <em>operator</em> <code class="language-shell highlighter-rouge">@</code>. It can be used to <em>roll up</em> a directory as a zip or jar file, or it can be used to unroll a jar file into its constituents.</p>

<p>If the destination is a path of a <code class="language-shell highlighter-rouge">jar</code> or <code class="language-shell highlighter-rouge">zip</code> file, like <code class="language-shell highlighter-rouge">foo/bar/icons.zip</code> and the source points to a directory in the file system, then the directory will be wrapped up in a Jar and stored as a single entry in the receiving jar file.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span>    foo/bar/icons.zip<span class="o">=</span>@icons/
</code></pre></div></div>

<p><em>Unrolling</em> is getting the content from another JAR. It is activated by starting the source with an at sign (<code class="language-shell highlighter-rouge">@</code>). The at sign signals that it is not the actual file that should be copied, but the contents of that file should be placed in the destination.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span>    <span class="nv">tmp</span><span class="o">=</span>@jar/foo.jar
</code></pre></div></div>

<p>The part that follows the at sign (<code class="language-shell highlighter-rouge">@</code>) is either a file path or a URL. Without any extra parameters it will copy all resources except the ones in the <code class="language-shell highlighter-rouge"><span class="nt">-donotcopy</span></code> list and the <code class="language-shell highlighter-rouge">META-INF/MANIFEST</code>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span>    @jar/foo.jar
</code></pre></div></div>

<p>This is an ideal way to wrap a bundle since it is a full copy. After that one can add additional resources or use <code class="language-shell highlighter-rouge"><span class="nt">-exportcontents</span></code> to export the contained packages in the normal way. In this way, bnd will calculate all imports.</p>

<p>The unrolling can also be restricted with a single <em>selector</em>. The syntax for the selector must start with a <code class="language-shell highlighter-rouge"><span class="o">!</span>/</code> marker, which is commonly used for this purpose. After the <code class="language-shell highlighter-rouge"><span class="o">!</span>/</code> the normal selector operators and patterns can be used. For example, if we want to get just the <code class="language-shell highlighter-rouge">LICENSE</code> from a bundle then we can do:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span>    @jar/foo.jar!/LICENSE
</code></pre></div></div>

<p>However, since selectors can also negate, it is also possible to do the reverse:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span>    <span class="s2">"@jar/foo.jar!/!LICENSE"</span>
</code></pre></div></div>

<p>This is a single selector, it is therefore not possible to specify a chain with rejections and selections. However, also a single selector can match multiple file paths:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span>    @jar/osgi.jar!/!<span class="o">(</span>LICENSE|about.html|org/<span class="k">*</span><span class="o">)</span>
</code></pre></div></div>

<p>Wrapping often requires access to a JAR from the repository. It is therefore common to see the unrolling feature being combined with the <code class="language-shell highlighter-rouge"><span class="k">${</span><span class="nv">repo</span><span class="k">}</span></code> macro. The <code class="language-shell highlighter-rouge"><span class="k">${</span><span class="nv">repo</span><span class="k">}</span></code> macro is given the Bundle Symbolic Name and an optional version range returns the path to a file from the repository.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span>    @<span class="k">${</span><span class="nv">repo</span><span class="p">;biz.aQute.bndlib</span><span class="k">}</span><span class="o">!</span>/about.html
</code></pre></div></div>

<h3 id="unrolling-options">Unrolling options</h3>

<p><code class="language-shell highlighter-rouge">flatten:<span class="o">=</span>BOOLEAN</code> - puts all files in the file-tree into one folder</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span> new.package/<span class="o">=</span>@jar/file.jar!/META-INF/services/<span class="k">*</span><span class="p">;</span>flatten:<span class="o">=</span><span class="nb">true</span>
</code></pre></div></div>

<p><code class="language-shell highlighter-rouge">rename:<span class="o">=</span>RENAME</code> - maps the path using a given renaming instruction. Paths are filtered by the given instruction-SELECTOR. The instruction-Selector is compiled to a regex-pattern. This pattern is used to generate a matcher by using the filtered path and the matcher is used to replaceAll using the given extra value.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span> new.package<span class="o">=</span>@jar/cxf-rt-rs-sse-3.2.5.jar!/<span class="o">(</span>META-INF<span class="o">)</span>/<span class="o">(</span>c<span class="k">*</span>f<span class="o">)</span>/<span class="o">(</span><span class="k">*</span><span class="o">)</span><span class="p">;</span>rename:<span class="o">=</span><span class="nv">$2</span>/<span class="nv">$1</span>/<span class="nv">$3</span>.copy
</code></pre></div></div>

<p><code class="language-shell highlighter-rouge">onduplicate</code> - controls duplicate file handling for files with the same path and filename. See <strong>Handling duplicates</strong> below.</p>

<h3 id="handling-duplicates">Handling duplicates</h3>

<p>When unrolling multiple jar files into your target jar then duplicates can occur when multiple files share the same path and filename. By default duplicates overwrite existing files (last wins).
With the <code class="language-shell highlighter-rouge">onduplicate</code> directive you can control this behavior. For example there is the command <code class="language-shell highlighter-rouge">onduplicate:<span class="o">=</span>MERGE</code> which by default is able to merge (append) services files in <code class="language-shell highlighter-rouge">/META-INF/services/</code>.</p>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="language-shell highlighter-rouge">onduplicate:<span class="o">=</span>OVERWRITE</code> - (default) duplicates overwrite existing files (in other words: last wins)</li>
  <li><code class="language-shell highlighter-rouge">onduplicate:<span class="o">=</span>MERGE</code> - tries to merge duplicate files under <code class="language-shell highlighter-rouge">/META-INF/services/</code> by default. Other paths are skipped.</li>
  <li><code class="language-shell highlighter-rouge">onduplicate:<span class="o">=</span><span class="s1">'MERGE,metainfservices'</span></code> - same as MERGE. <code class="language-shell highlighter-rouge">metainfservices</code> is a tag which pulls in Plugins with this tag. Currently there is one default Plugin for handling files under <code class="language-shell highlighter-rouge">/META-INF/services/</code></li>
  <li><code class="language-shell highlighter-rouge">onduplicate:<span class="o">=</span><span class="s1">'sometag'</span></code> - tries to merge with Plugins tagged with <code class="language-shell highlighter-rouge">sometag</code></li>
  <li><code class="language-shell highlighter-rouge">onduplicate:<span class="o">=</span>SKIP</code> - duplicates are skipped (in other words: first wins)</li>
  <li><code class="language-shell highlighter-rouge">onduplicate:<span class="o">=</span>WARN</code> - output a warning if there are duplicates</li>
  <li><code class="language-shell highlighter-rouge">onduplicate:<span class="o">=</span>ERROR</code> output an error if there are duplicates</li>
</ul>

<p><code class="language-shell highlighter-rouge">WARN</code> and <code class="language-shell highlighter-rouge">ERROR</code> can be combined with other commands, while OVERWRITE, MERGE, SKIP are mutually exclusive.
So combinations are possible, e.g.</p>

<ul>
  <li><code class="language-shell highlighter-rouge">onduplicate:<span class="o">=</span>WARN,MERGE</code> - this outputs are warning if duplicates occur, but also tries to merge files under <code class="language-shell highlighter-rouge">META-INF/services</code>.</li>
</ul>

<h4 id="example---handling-duplicates">Example - Handling duplicates</h4>

<p>Lets take Apache FOP as an example. This library comes with 4 jars which are not OSGi bundles.
To use them in OSGi you could wrap them with bnd. Because of some classloading issues related to the ServiceLoader mechanism, one way to do it is to combine them into a single bundle.
One challenge is its extension mechanism which uses ServiceLoaders under <code class="language-shell highlighter-rouge">/META-INF/services/</code>.</p>

<p>For example the bundle <code class="language-shell highlighter-rouge">fop-core</code> contains a file <code class="language-shell highlighter-rouge">META-INF/services/org.apache.xmlgraphics.image.loader.spi.ImagePreloader</code> with the content:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>org.apache.fop.image.loader.batik.PreloaderWMF
org.apache.fop.image.loader.batik.PreloaderSVG
</code></pre></div></div>

<p><code class="language-shell highlighter-rouge">xmlgraphics-commons</code> contains the same file  <code class="language-shell highlighter-rouge">META-INF/services/org.apache.xmlgraphics.image.loader.spi.ImagePreloader</code> with content:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>org.apache.xmlgraphics.image.loader.impl.PreloaderTIFF
org.apache.xmlgraphics.image.loader.impl.PreloaderGIF
org.apache.xmlgraphics.image.loader.impl.PreloaderJPEG
org.apache.xmlgraphics.image.loader.impl.PreloaderBMP
org.apache.xmlgraphics.image.loader.impl.PreloaderEMF
org.apache.xmlgraphics.image.loader.impl.PreloaderEPS
org.apache.xmlgraphics.image.loader.impl.imageio.PreloaderImageIO
org.apache.xmlgraphics.image.loader.impl.PreloaderRawPNG
</code></pre></div></div>

<p>If you combine these two jars into a single target jar you want to ensure that both files do not overwrite each other but are merged / appended instead, in order to be a valid ServiceLoader file.</p>

<p>This can be achieved by the following instructions:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@<span class="k">${</span><span class="nv">repo</span><span class="p">;org.apache.xmlgraphics</span>:fop-core<span class="p">;latest</span><span class="k">}</span><span class="o">!</span>/<span class="k">*</span>,<span class="se">\</span>
@<span class="k">${</span><span class="nv">repo</span><span class="p">;org.apache.xmlgraphics</span>:xmlgraphics-commons<span class="p">;latest</span><span class="k">}</span><span class="o">!</span>/<span class="k">*</span><span class="p">;</span>onduplicate:<span class="o">=</span>MERGE,<span class="se">\</span>

</code></pre></div></div>

<p>The instructions above can be read like this:</p>

<ul>
  <li>the first line <code class="language-shell highlighter-rouge">fop-core</code> can be considered the parent which is unrolled without any special handling.</li>
  <li>the second line is the interesting one: The <code class="language-shell highlighter-rouge">onduplicate:<span class="o">=</span>MERGE</code> directive tells bnd to try merging files. By default bnd is only able to merge files under <code class="language-shell highlighter-rouge">META-INF/services</code>. So bnd will append the duplicate file to the existing file with a line break.</li>
</ul>

<h2 id="literals">Literals</h2>

<p>For testing purposes it is often necessary to have tiny resources in the bundle. These could of course be placed on the file system but bnd can also generate these on the fly. Since these are defined in the bnd files, the content has full access to the macros. This is done by specifying a <code class="language-shell highlighter-rouge">literal</code> attribute on the clause.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span>    foo.txt<span class="p">;</span><span class="nv">literal</span><span class="o">=</span><span class="s1">'This is some content with a macro ${sum;1,2,3}'</span>
</code></pre></div></div>

<p>The previous example will create a resource with the given content.</p>

<h2 id="flattening--recurse">Flattening &amp; Recurse</h2>

<p>When a directory is specified bnd will by default recurse the source and create a similar hierarchy on the destination.</p>

<p>The recursion and the hierarchy can be controlled with directives.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span>    target/<span class="o">=</span>hierarchy/
</code></pre></div></div>

<p>The <code class="language-shell highlighter-rouge">recursive:</code> directive can be used to indicate that the source should not be recursively traversed by specifying <code class="language-shell highlighter-rouge"><span class="nb">false</span></code>:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span>    target/<span class="o">=</span>hierarchy/<span class="p">;</span>recursive:<span class="o">=</span><span class="nb">false</span>
</code></pre></div></div>

<p>In this case, only the <code class="language-shell highlighter-rouge">hierarchy</code> directory itself will be copied to the <code class="language-shell highlighter-rouge">target</code> directory.  The <code class="language-shell highlighter-rouge">flatten:</code> directive indicates that if the directories are recursively searched, the output must not create any directories. That is all resources are flattened in the output directory.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-includeresource</span>    target/<span class="o">=</span>hierarchy/<span class="p">;</span>flatten:<span class="o">=</span><span class="nb">true</span>
</code></pre></div></div>

<h2 id="sample-usages">Sample usages</h2>

<h3 id="simple-form">Simple form</h3>

<table>
  <thead>
    <tr>
      <th>Instruction</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: lib/fancylibrary-3.12.0.jar</code></td>
      <td>Copy lib/fancylibrary-3.12.0.jar file into the root of the target JAR</td>
    </tr>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>.resources: <span class="nt">-src</span>/main/resources</code></td>
      <td>Copy folder src/main/resources contents (including subdfolders) into root of the target JAR <br />The arbitrarily named suffix .resources prevents this includeresource directive to be overwritten <br />The preceding minus sign instructs to supress an error for non-existing folder src/main/resources</td>
    </tr>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>:<span class="k">${</span><span class="nv">workspace</span><span class="k">}</span>/LICENSE, <span class="o">{</span>readme.md<span class="o">}</span></code></td>
      <td>Copy the LICENSE file residing in the bnd workspace folder (above the project directory) as well as the pre-processed readme.md file (allowing for e.g. variable substitution) in the project folder into the target JAR</td>
    </tr>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: <span class="k">${</span><span class="nv">repo</span><span class="p">;com.acme</span>:foo<span class="p">;latest</span><span class="k">}</span></code></td>
      <td>Copy the com.acme.foo bundle JAR in highest version number found in the bnd workspace repository into the root of the target JAR</td>
    </tr>
  </tbody>
</table>

<h3 id="assignment-form">Assignment form</h3>

<table>
  <thead>
    <tr>
      <th>Instruction</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: images/<span class="o">=</span>img/</code> or <br /><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: <span class="nv">images</span><span class="o">=</span>img</code></td>
      <td>Copy contents of img/ folder (including subdfolders) into an images folder of the target JAR</td>
    </tr>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: <span class="nv">x</span><span class="o">=</span>a/c/c.txt</code></td>
      <td>Copy a/c/c.txt into file x in the root folder of the target JAR</td>
    </tr>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: x/<span class="o">=</span>a/c/c.txt</code></td>
      <td>Copy a/c/c.txt into file x/c.txt in the root folder of the target JAR</td>
    </tr>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: libraries/fancylibrary.jar<span class="o">=</span>lib/fancylibrary-3.12.jar<span class="p">;</span> lib:<span class="o">=</span><span class="nb">true</span></code></td>
      <td>Copy lib/fancylibrary-3.1.2.jar from project into libraries folder of the target JAR, and place it on the Bundle-Classpath (BCP). It will make sure the BCP starts with . and then each include resource that is included will be added to the BCP</td>
    </tr>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: lib/<span class="p">;</span> lib:<span class="o">=</span><span class="nb">true</span></code></td>
      <td>Copy every JAR file underneath lib in a relative position under the root folder of the target JAR, and add each library to the bundle classpath</td>
    </tr>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: acme-foo-snap.jar<span class="o">=</span><span class="k">${</span><span class="nv">repo</span><span class="p">;com.acme</span>:foo<span class="p">;snapshot</span><span class="k">}</span></code></td>
      <td>Copy the highest snapshot version of com.acme.foo found in the bnd workspace repository as acme-foo-snap.jar into the root of the target JAR</td>
    </tr>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: foo.txt<span class="p">;</span><span class="nv">literal</span><span class="o">=</span><span class="s1">'foo bar'</span></code></td>
      <td>Create a file named foo.txt containing the string literal foo bar in the root folder of the target JAR</td>
    </tr>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: bsn.txt<span class="p">;</span><span class="nv">literal</span><span class="o">=</span><span class="s1">'${bsn}'</span></code></td>
      <td>Create a file named bsn.txt containing the bundle symbolic name (bsn) of this project in the root folder of the target JAR</td>
    </tr>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: libraries/<span class="o">=</span>lib/<span class="p">;</span>filter:<span class="o">=</span>fancylibrary-<span class="k">*</span>.jar<span class="p">;</span>recursive:<span class="o">=</span><span class="nb">false</span><span class="p">;</span>lib:<span class="o">=</span><span class="nb">true</span></code> or <br /><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: libraries/<span class="o">=</span>lib/fancylibrary-<span class="k">*</span>.jar<span class="p">;</span>lib:<span class="o">=</span><span class="nb">true</span></code> (as of bndtools 4.2)</td>
      <td>Copy a wildcarded library from lib/ into libraries and add it to the bundle classpath</td>
    </tr>
  </tbody>
</table>

<h3 id="inline-form">Inline form</h3>

<table>
  <thead>
    <tr>
      <th>Instruction</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>: @lib/fancylibrary-3.12.jar!/<span class="k">*</span></code></td>
      <td>Extract the contents of lib/fancylibrary-3.12.jar into the root folder of the target JAR, preserving relative paths</td>
    </tr>
    <tr>
      <td><code class="language-shell highlighter-rouge"><span class="nt">-includeresource</span>:@<span class="k">${</span><span class="nv">repo</span><span class="p">;com.acme.foo;latest</span><span class="k">}</span><span class="o">!</span>/!META-INF/<span class="k">*</span></code></td>
      <td>Extract the contents of the highest found com.acme.foo version in the bnd workspace repository into the root folder of the target JAR, preserving relative paths, excluding the META-INF/ folder</td>
    </tr>
  </tbody>
</table>

				</main>
			</div>
	</ul>




	
<footer class="container12" style="border-top: 1px solid black;padding:10px 0">
	<div class="container-right">
		<nav class="next-prev" data-pagefind-ignore>
     
    <a href='/releases/7.2.0/instructions/includepackage.html' title="-includepackage PACKAGE-SPEC, ( ',' PACKAGE-SPEC )*">Prev</a> 
     
    
    <a href='/releases/7.2.0/instructions/init.html' title="-init ${MACRO} ( ',' ${MACRO}) *">Next</a>
     
</nav>
	</div>

	<div class="modal" id="searchmodal" aria-hidden="true">
    <div class="modal_overlay" tabindex="-1">
        <div class="modal_container" role="dialog" aria-modal="true">
            <header class="modal_header" style="margin-bottom: 10px;">
                <b>
                    Search
                    <button class="modal_btn modal_btn-primary" data-modal-close=""
                        aria-label="Close this dialog window" style="float:right;">Close</button>
                </b>
            </header>
            <main class="modal_content" id="modalcontent">
                <div id="pagefindsearch"></div>
            </main>
            <footer class="modal_footer">

            </footer>
        </div>
    </div>
</div>

<style>
    /* Basic styling to hide/show the modal */
    .modal {
        display: none;
        /* Hidden by default */
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
    }

    /* Container for modal content */
    .modal_container {
        background: #fff;
        margin: 5% auto;
        /* Position the box somewhat centered */
        padding: 1rem;
        max-width: 600px;
        border-radius: 4px;
        position: relative;

        /* Height and overflow for scrolling */
        max-height: 80vh;
        /* Use 80% of the viewport height */
        overflow-y: auto;
        /* Enable scrolling within the modal */
    }

    /* When modal is open, display it */
    .modal.is-open {
        display: block;
    }
</style>

<script type="text/javascript">
    // Function to open the modal
    function openModal() {
        const modal = document.getElementById('searchmodal');
        // Change aria-hidden to false
        modal.setAttribute('aria-hidden', 'false');
        // Add a class to make it visible (assuming CSS uses .is-open to show)
        modal.classList.add('is-open');

        const searchFieldInput = document.querySelector('#modalcontent input');
        searchFieldInput.focus();

        // Define an event listener for the ESC key
        escapeKeyListener = function (event) {
            if (event.key === 'Escape' || event.key === 'Esc') {
                closeModal(modal);
            }
        };

        // Attach the ESC key event listener
        document.addEventListener('keydown', escapeKeyListener);

        // Attach click event listeners to close triggers
        attachCloseEvents(modal);
    }

    function attachCloseEvents(modal) {
        // Get all elements that can close the modal (overlay and close button)
        const closeElements = modal.querySelectorAll('[data-modal-close]');

        closeElements.forEach(el => {
            el.addEventListener('click', function handleClose() {
                closeModal(modal);
                // Remove this event listener once closed (cleanup)
                el.removeEventListener('click', handleClose);
            });
        });
    }

    // Function to close the modal
    function closeModal(modal) {
        modal.setAttribute('aria-hidden', 'true');
        modal.classList.remove('is-open');
    }
</script>



<link href="/releases/7.2.0/pagefindindex/pagefind-ui.css" rel="stylesheet">
<script src="/releases/7.2.0/pagefindindex/pagefind-ui.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({
            element: "#pagefindsearch",
            showSubResults: true,
            translations: {
                placeholder: "Search the bnd manual",
            },
            openFilters: ['pagetype']

        });
    });
</script>

	<ul span=12 row>
		<li span=12>
			<ul>
				<li><a href="/releases/7.2.0/">Home</a>
			</ul>
	</ul>

	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded', () => {
			const headers = document.querySelectorAll('h1[id], h2[id], h3[id], h4[id]');

			headers.forEach(header => {
				const iconLink = document.createElement('a');
				iconLink.href = `#${header.id}`;
				iconLink.innerHTML = '#';
				iconLink.className = 'header-link';

				// Wrap the icon inside a span to control visibility with CSS
				const wrapper = document.createElement('span');
				wrapper.className = 'header-link-wrapper';
				wrapper.appendChild(iconLink);

				// Append the wrapper to the header
				header.appendChild(wrapper);
			});
		});


		// copy to clipboard buttons

		const copyButtonLabel = "Copy";
		let blocks = document.querySelectorAll("pre.highlight");

		blocks.forEach((block) => {
		// only add button if browser supports Clipboard API
		if (navigator.clipboard) {
			let button = document.createElement("button");
			button.classList.add("copycodebtn");

			button.innerText = copyButtonLabel;
			block.appendChild(button);

			button.addEventListener("click", async () => {
			await copyCode(block, button);
			});

		}
		});

		async function copyCode(block, button) {
		let code = block.querySelector("code");
		let text = code.innerText;

		await navigator.clipboard.writeText(text);

		button.innerText = "Copied";

			setTimeout(()=> {
				button.innerText = copyButtonLabel;
			},2000)
		}
	</script>

</footer>

</body>
</html>
