<!DOCTYPE html>
<html lang="en" ng-app="jpm">

	<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="/releases/7.2.0/css/style.css" rel="stylesheet" />
<link rel="stylesheet" href="/css/github.dark.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="sitemap" type="application/xml" title="bnd Sitemap" href="/sitemap.xml">
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="/js/releases.js"></script>

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Launching | bnd</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Launching" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="bnd integrates an OSGi launcher. This launcher will start a framework and then install and start a list of bundles. Launch descriptions are defined in a bndrun file. (A bnd.bnd file can actually also act as a bndrun file.) The bndrun file inherits properties from the workspace, not the profile." />
<meta property="og:description" content="bnd integrates an OSGi launcher. This launcher will start a framework and then install and start a list of bundles. Launch descriptions are defined in a bndrun file. (A bnd.bnd file can actually also act as a bndrun file.) The bndrun file inherits properties from the workspace, not the profile." />
<meta property="og:site_name" content="bnd" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-12-27T00:11:56+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Launching" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-12-27T00:11:56+01:00","datePublished":"2025-12-27T00:11:56+01:00","description":"bnd integrates an OSGi launcher. This launcher will start a framework and then install and start a list of bundles. Launch descriptions are defined in a bndrun file. (A bnd.bnd file can actually also act as a bndrun file.) The bndrun file inherits properties from the workspace, not the profile.","headline":"Launching","mainEntityOfPage":{"@type":"WebPage","@id":"/releases/7.2.0/chapters/300-launching.html"},"url":"/releases/7.2.0/chapters/300-launching.html"}</script>
<!-- End Jekyll SEO tag -->


	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	
		<style>
			 body {
				counter-reset: h1 20;
			}
		</style>
	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

</head>


<body>
	
<ul class="container12 menu-bar" style="display:flex;align-items:center">
	<li span=8><a class=menu-link href="/releases/7.2.0/"><img
			class=menu-logo src="/releases/7.2.0/img/bnd-80x40-white.png"></a>
			<a 
				class="" 
				href="/releases/7.2.0/chapters/110-introduction.html">Intro
			</a>
			<a 
				class=""
				href="/releases/7.2.0/chapters/800-headers.html">Headers
			</a>
			<a 
				class=""
				href="/releases/7.2.0/chapters/825-instructions-ref.html">Instructions
			</a>
			<a 
				class=""
				href="/releases/7.2.0/chapters/855-macros-ref.html">Macros
			</a>
			<a 
				class=""
				href="/releases/7.2.0/chapters/400-commands.html">Commands
			</a>
			<div class="releases">
				<button class="dropbtn"><span class="fa fa-bars"></span> 7.2.0</button>
				<div class="dropdown-content"></div>
			</div>
    <li span=4>     
        <div class="search-container">
			<button type="button" class="fa fa-search" onclick="openModal()"></button>
       </div>
</ul>
<div class=menu-link span=0><a
	id="repo-link"
	href="https://github.com/bndtools/bnd/blob/master/docs/_chapters/300-launching.md"
	target="_blank"
>
	<img
		style="
			position: absolute;
			top: 0;
			right: 0;
			margin: 0;
			padding: 4px;
			z-index: 100;
			width: 45px;
		"
		src="/img/github-mark.svg"
		alt="Fork me on GitHub"
		title="Fork me on GitHub"
/></a>
</div>



					

	<ul class=container12>
		<li span=3>
			<div class="side-nav">
			
	
	<ul class="side-nav">
	<li><span class="side-nav-section">Getting Started</span>
		<ul class="side-nav">
		
			
				

					
					<li><a href="/releases/7.2.0/chapters/110-introduction.html">Introduction</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/120-install.html">How to install bnd</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/123-tour-workspace.html">Guided Tour Workspace & Projects</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/125-tour-features.html">bnd / bndlib Features and JAR Wrapping Techniques</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/920-faq.html">FAQ - Frequently Asked Questions</a></li>
					

				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Concepts and Practices</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/130-concepts.html">Concepts</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/135-history.html">Background</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/140-best-practices.html">Best practices</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Build and Development</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/150-build.html">Build</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/160-jars.html">Generating JARs</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/170-versioning.html">Versioning</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/180-baselining.html">Baselining</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/200-components.html">Service Components</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/210-metatype.html">Metatype</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/220-contracts.html">Contracts</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/230-manifest-annotations.html">Bundle Annotations</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/235-accessor-properties.html">Accessor Properties</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/240-spi-annotations.html">SPI Annotations</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Dependency and Launching</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/250-resolving.html">Resolving Dependencies</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li class=selected>Launching</li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/305-startlevels.html">Startlevels</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Testing</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/310-testing.html">Testing</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/315-launchpad-testing.html">Testing with Launchpad</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Packaging and Distribution</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/320-packaging.html">Packaging Applications</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/330-jpms.html">JPMS Libraries</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/390-wrapping.html">Wrapping Libraries to OSGi Bundles</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Documentation and Tools</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/395-generating-documentation.html">Generating Documentation</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/400-commands.html">bnd CLI Commands</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/600-developer.html">For Developers</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/620-template-fragments.html">Templates for Workspaces</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/650-windows.html">Tips for Windows users</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/700-tools.html">Tools bound to bnd</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Reference Material</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/790-reference.html">Reference</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/800-headers.html">Headers</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/820-instructions.html">Instruction Reference</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/825-instructions-ref.html">Instruction Index</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/850-macros.html">Macro Reference</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/855-macros-ref.html">Macro Index</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/870-plugins.html">Plugins</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/875-external-plugins.html">External Plugins</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>

	
	<ul class="side-nav">
	<li><span class="side-nav-section">Configuration and Troubleshooting</span>
		<ul class="side-nav">
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/880-settings.html">Settings</a></li>
					

				
				
			
				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/900-errors.html">Errors</a></li>
					

				
				
			
				
				
			
				
				
			
			
		
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				
				
			
				

					
					<li><a href="/releases/7.2.0/chapters/910-warnings.html">Warnings</a></li>
					

				
				
			
				
				
			
			
		
		</ul>
	</li>
	</ul>




			</div>
			
		<li span=9>
			<div class=notes-margin>

<main data-pagefind-body>
				<div class="page-header">
					<h1 data-pagefind-filter="pagetype:chapters"> Launching</h1>
					<div class="container-right">
						<nav class="next-prev" data-pagefind-ignore>
     
    <a href='/releases/7.2.0/chapters/250-resolving.html' title="Resolving Dependencies">Prev</a> 
     
    
    <a href='/releases/7.2.0/chapters/305-startlevels.html' title="Startlevels">Next</a>
     
</nav>
						
						
						
					</div>
					
				</div>

				<p>bnd integrates an OSGi launcher. This launcher will start a framework and then install and start a list of bundles. Launch descriptions are defined in a <em>bndrun</em> file. (A bnd.bnd file can actually also act as a bndrun file.) The bndrun file inherits properties from the workspace, not the profile.</p>

<p>The launching environment is described with a number of instructions that start with <code class="language-shell highlighter-rouge"><span class="nt">-run</span></code>.</p>

<ul>
  <li><code class="language-shell highlighter-rouge"><span class="nt">-runfw</span></code> — Specify the run framework in repository format</li>
  <li><code class="language-shell highlighter-rouge"><span class="nt">-runsystemcapabilities</span></code> — Capabilities added to the environment</li>
  <li><code class="language-shell highlighter-rouge"><span class="nt">-runbundles</span></code> — A list of bundles to install in repository format</li>
  <li><code class="language-shell highlighter-rouge"><span class="nt">-runvm</span></code> — VM options. Use a comma to separate different options. E.g. <code class="language-shell highlighter-rouge"><span class="nt">-Dx</span><span class="o">=</span>4, <span class="nt">-Dy</span><span class="o">=</span>5</code>.</li>
  <li><code class="language-shell highlighter-rouge"><span class="nt">-runproperties</span></code> — System properties for the framework to create</li>
  <li><code class="language-shell highlighter-rouge"><span class="nt">-runpath</span></code> — A list of jars (not required to be bundles) that are put on the classpath and available from the system bundle. Any Export-Package and Provide-Capabilityheaders  are provided as packages/capabilities from the framework. The <code class="language-shell highlighter-rouge"><span class="nt">-runpath</span></code> can also override the default launcher.</li>
  <li><code class="language-shell highlighter-rouge"><span class="nt">-runsystempackages</span></code> — An Export-Package list for packages exported by the system bundle.</li>
  <li><code class="language-shell highlighter-rouge"><span class="nt">-runkeep</span></code> – Keep the framework working directory. That is, do not clean at start up</li>
  <li><code class="language-shell highlighter-rouge"><span class="nt">-runstorage</span></code> – The working directory</li>
  <li><code class="language-shell highlighter-rouge"><span class="nt">-runnoreferences</span></code> – Do not use the <code class="language-shell highlighter-rouge">reference:</code> scheme when installing. (Sometimes required on Windows).</li>
</ul>

<p>Additional properties can be specified, and can be inherited from the workspace, that are specific for a launcher or are used for exporting a bndrun to an executable format like OSGi Subsystems, KARs, WARs, or executable JARs.</p>

<h2 id="launcher-architecture">Launcher Architecture</h2>

<p>Launchers are not build into bnd, the actual launching strategy is parameterized. A launcher is associated with a bnd or bndrun file by placing a JAR on the <code class="language-shell highlighter-rouge"><span class="nt">-runpath</span></code>. A JAR should have a <code class="language-shell highlighter-rouge">Launcher-Plugin</code> header to be a launcher. If no launcher is found on the <code class="language-shell highlighter-rouge"><span class="nt">-runpath</span></code> then the built-in <code class="language-shell highlighter-rouge">biz.aQute.launcher</code> will be used.</p>

<p>The plugin maps the bnd model specified in a bndrun or bnd file to an external execution. In general this plugin launches or contacts a VM, installs the <code class="language-shell highlighter-rouge"><span class="nt">-runpath</span></code>, installs <code class="language-shell highlighter-rouge"><span class="nt">-runbundles</span></code>, fires up the bundles. The plugin is also called when the bundles or settings have changed so that it can dynamically update the bundles on the running VM.</p>

<p>There are currently two launchers in the bnd repository:</p>

<ul>
  <li><code class="language-shell highlighter-rouge">biz.aQute.launcher</code> – Default launcher. This launcher starts a VM on the local machine and keeps it synchronized with the changes in the IDE. The launcher can also create an executable JAR.</li>
  <li><code class="language-shell highlighter-rouge">biz.aQute.remote.launcher</code> – A launcher that can communicate with a remote VM, optionally installs a <code class="language-shell highlighter-rouge"><span class="nt">-runpath</span></code> (among which a framework), and then synchronizes the <code class="language-shell highlighter-rouge"><span class="nt">-runbundles</span></code> and a number of other properties with the remote VM.</li>
</ul>

<h2 id="bizaqutelauncher">biz.aQute.launcher</h2>

<p>The default launcher in bnd. It creates a new VM with the given options, creates a framework using the OSGi launching API, and then manages the bundles on this framework with the OSGi launching API. It can update the remote framework in real time by changing a properties file that is watched for by the launcher class running in the remote framework.</p>

<h3 id="example-bndrun-file">Example bndrun file</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-runfw</span>:                     org.apache.felix.framework<span class="p">;</span><span class="nv">version</span><span class="o">=</span><span class="s1">'[4,5)'</span>
<span class="nt">-runbundles</span>: <span class="se">\</span>
	org.apache.felix.shell,<span class="se">\</span>
	org.apache.felix.shell.tui,<span class="se">\</span>
	org.apache.felix.scr,<span class="se">\</span>
	org.apache.felix.http.jetty,<span class="se">\</span>
	org.apache.felix.configadmin,<span class="se">\</span>
	org.apache.felix.metatype,<span class="se">\</span>
	org.apache.felix.log,<span class="se">\</span>
	org.apache.felix.webconsole,<span class="se">\</span>
	osgi.cmpn,<span class="se">\</span>
	aQute.xray.badbundle<span class="p">;</span><span class="nv">version</span><span class="o">=</span>latest,<span class="se">\</span>
	aQute.xray.plugin<span class="p">;</span><span class="nv">version</span><span class="o">=</span>latest,<span class="se">\</span>
	aQute.xray.hello<span class="p">;</span><span class="nv">version</span><span class="o">=</span>latest,<span class="se">\</span>
	com.springsource.org.apache.commons.fileupload<span class="p">;</span><span class="nv">version</span><span class="o">=</span>1.2.1,<span class="se">\</span>
	com.springsource.org.apache.commons.io<span class="p">;</span><span class="nv">version</span><span class="o">=</span>1.4.0,<span class="se">\</span>
	com.springsource.org.json<span class="p">;</span><span class="nv">version</span><span class="o">=</span>1.0.0

<span class="nt">-runproperties</span>:            org.osgi.service.http.port<span class="o">=</span>8080

<span class="nt">-runrequires</span>:<span class="se">\</span>
	bundle:<span class="o">(</span><span class="nv">symbolicname</span><span class="o">=</span>org.apache.felix.shell<span class="o">)</span>,<span class="se">\</span>
	bundle:<span class="o">(</span><span class="nv">symbolicname</span><span class="o">=</span>org.apache.felix.shell.tui<span class="o">)</span>,<span class="se">\</span>
	bundle:<span class="o">(</span><span class="nv">symbolicname</span><span class="o">=</span>org.apache.felix.webconsole<span class="o">)</span>,<span class="se">\</span>
	bundle:<span class="o">(</span><span class="nv">symbolicname</span><span class="o">=</span>org.apache.felix.configadmin<span class="o">)</span>,<span class="se">\</span>
	bundle:<span class="o">(</span><span class="nv">symbolicname</span><span class="o">=</span>org.apache.felix.metatype<span class="o">)</span>,<span class="se">\</span>
	bundle:<span class="o">(</span><span class="nv">symbolicname</span><span class="o">=</span>org.apache.felix.log<span class="o">)</span>,<span class="se">\</span>
	bundle:<span class="o">(</span>&amp;<span class="o">(</span><span class="nv">symbolicname</span><span class="o">=</span>osgi.cmpn<span class="o">)(</span>version&gt;<span class="o">=</span>4.2<span class="o">))</span>,<span class="se">\</span>
	bundle:<span class="o">(</span>&amp;<span class="o">(</span><span class="nv">symbolicname</span><span class="o">=</span>org.apache.felix.scr<span class="o">)(</span>version&gt;<span class="o">=</span>1.6.0<span class="o">))</span>
</code></pre></div></div>

<h3 id="exports-from-the-runpath">Exports from the Runpath</h3>

<p>The launcher analyzes the <code class="language-shell highlighter-rouge"><span class="nt">-runpath</span></code> JARs. Any additional capabilities in the manifest (packages and Provide Capability headers) in these JARs are automatically added to the framework.</p>

<h3 id="exporting-an-older-java-8-compatible-launcher">Exporting an older Java 8 compatible launcher</h3>

<p>There are cases where you are working with a recent 7.x release of bnd / bndtools but you want to export an executable .jar which contains e.g. the launcher of bnd 6.4.1 which is compatible with JDK-8 (because newer 7.x bnd and launcher requires JDK-17 minimum).
In this you can do the following:</p>

<ol>
  <li>Place <code class="language-shell highlighter-rouge">biz.aQute.bnd:biz.aQute.launcher:6.4.1</code> in one of your repositories</li>
  <li>reference it in your <code class="language-shell highlighter-rouge">.bndrun</code> like this:</li>
</ol>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># myapp.bndrun</span>
<span class="nt">-runpath</span>: <span class="k">${</span><span class="nv">repo</span><span class="p">;biz.aQute.bnd</span>:biz.aQute.launcher<span class="p">;[6.4.1,6.4.2)</span><span class="k">}</span><span class="p">;</span><span class="nv">version</span><span class="o">=</span>file
</code></pre></div></div>

<h3 id="runtime-information">Runtime Information</h3>

<p>The launcher registers a service with object class <code class="language-shell highlighter-rouge">Object</code> that provides some runtime information. The following properties are set on this service:</p>

<ul>
  <li><code class="language-shell highlighter-rouge">launcher.arguments</code> – The arguments passed to the <code class="language-shell highlighter-rouge">main</code> method.</li>
  <li><code class="language-shell highlighter-rouge">launcher.properties</code> – The properties handed to the launcher. These properties are modified by any overriding properties that were set from the command line.</li>
  <li><code class="language-shell highlighter-rouge">launcher.ready</code> – A boolean set to true, indicating the launcher has done all its work.</li>
  <li><code class="language-shell highlighter-rouge">service.ranking</code> – Set to -1000</li>
</ul>

<h2 id="embedded-activators">Embedded Activators</h2>

<p>The launcher supports <em>embedded activators</em>. These are like normal Bundle Actviator classes but are instead found on the <code class="language-shell highlighter-rouge"><span class="nt">-runpath</span></code>. Any bundle that has the header <code class="language-shell highlighter-rouge">Embedded-Activator</code> will be started. The start can happen at 3 points that are identified with a static field in the Embedded Activator class. This field is called <code class="language-shell highlighter-rouge">IMMEDIATE</code>. For example:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public class MyEmbeddedActivator implements BundleActivator <span class="o">{</span>
    public static String IMMEDIATE <span class="o">=</span> <span class="s2">"AFTER_FRAMEWORK_INIT"</span><span class="p">;</span>
    ...
<span class="o">}</span> 
</code></pre></div></div>

<p>The <code class="language-shell highlighter-rouge">IMMEDIATE</code> field can have the following values:</p>

<ul>
  <li><code class="language-shell highlighter-rouge"><span class="s2">"AFTER_FRAMEWORK_INIT"</span></code> –  The Embedded Activator is called after the Framework is initialized but before the framework is started. This means that no bundles are started yet.</li>
  <li><code class="language-shell highlighter-rouge"><span class="s2">"BEFORE_BUNDLES_START"</span></code> – The Embedded Activator is called after the framework has been started but before the bundles are explicitly started <em>by the launcher</em>. This will always happening in start level 1. If the framework was started from an existing configuration then any bundles in start level 1 that were persistently started will therefore have been started before the Embedded Activator is started. The launcher starts bundles persistently so if the same configuration is restarted they will be started after the framework is started.</li>
  <li><code class="language-shell highlighter-rouge"><span class="s2">"AFTER_BUNDLES_START"</span></code> – Will start the Embedded Activators <em>after</em> all bundles have been persistently started. Since this happens at start level 1, some bundles in higher start levels will not be active.</li>
</ul>

<p>The reason strings are used is to not require the need for extraneous types on the executable’s class path. If a string in <code class="language-shell highlighter-rouge">IMMEDIATE</code> is used that is not part of the previous one then a message must be logged. The behavior will then be <code class="language-shell highlighter-rouge"><span class="s2">"AFTER_BUNDLES_START"</span></code>. Other strings are reserved for future extensions.</p>

<p>For example:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public class MyActivator implements BundleActivator <span class="o">{</span>
    public static String IMMEDIATE <span class="o">=</span> <span class="s2">"BEFORE_BUNDLES_START"</span><span class="p">;</span>

    public void start<span class="o">(</span>BundleContext context<span class="o">)</span> <span class="o">{}</span>
    
    public void stop<span class="o">(</span>BundleContext context<span class="o">)</span> <span class="o">{}</span>
<span class="o">}</span>

bnd.bnd:
    Embedded-Activator: com.example.MyActivator
</code></pre></div></div>

<p>For backward compatibility reason the <code class="language-shell highlighter-rouge">IMMEDIATE</code> field the launcher will also recognize a <code class="language-shell highlighter-rouge">boolean</code> field.</p>

<ul>
  <li><code class="language-shell highlighter-rouge"><span class="nb">true</span></code> – Corresponds to the String <code class="language-shell highlighter-rouge">BEFORE_BUNDLES_START</code>.</li>
  <li><code class="language-shell highlighter-rouge"><span class="nb">false</span></code> – Will be the <code class="language-shell highlighter-rouge"><span class="s2">"AFTER_BUNDLES_START"</span></code> case</li>
</ul>

<p>It is recommended to update to one of the strings instead of the boolean and not use this pattern in new setups.</p>

<h2 id="startlevels">Startlevels</h2>

<p>The <code class="language-shell highlighter-rouge"><span class="nt">-runbundles</span></code> instruction supports an <code class="language-shell highlighter-rouge">startlevel</code> attribute. If one or more of the bundles listed in the <code class="language-shell highlighter-rouge"><span class="nt">-runbundles</span></code> instruction
uses the <code class="language-shell highlighter-rouge">startlevel</code> attribute then the launcher will assign a startlevel to each bundle. This is currently supported for the
normal launcher and not for Launchpad nor the remote launcher.</p>

<p>If a bundle has a <code class="language-shell highlighter-rouge">startlevel</code> attribute then this must be an integer &gt; 0, otherwise it is ignored. Bundles that have no
<code class="language-shell highlighter-rouge">startlevel</code> attribute will be assign the maximum assigned startlevel attribute + 1. For example, given the following 
bundles:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-runbundles</span>: <span class="se">\</span>
	org.apache.felix.configadmin<span class="p">;</span><span class="nv">version</span><span class="o">=</span><span class="s1">'[1.8.8,1.8.9)'</span>,<span class="se">\</span>
	org.apache.felix.http.jetty<span class="p">;</span><span class="nv">version</span><span class="o">=</span><span class="s1">'[3.2.0,3.2.1)'</span><span class="p">;</span><span class="nv">startlevel</span><span class="o">=</span>10,<span class="se">\</span>
	org.apache.felix.http.servlet-api<span class="p">;</span><span class="nv">version</span><span class="o">=</span><span class="s1">'[1.1.2,1.1.3)'</span>,<span class="se">\</span>
	...
	osgi.enroute.twitter.bootstrap.webresource<span class="p">;</span><span class="nv">version</span><span class="o">=</span><span class="s1">'[3.3.5,3.3.6)'</span><span class="p">;</span><span class="nv">startlevel</span><span class="o">=</span>12,<span class="se">\</span>
	osgi.enroute.web.simple.provider<span class="p">;</span><span class="nv">version</span><span class="o">=</span><span class="s1">'[2.1.0,2.1.1)'</span>
</code></pre></div></div>

<p>The <code class="language-shell highlighter-rouge">org.apache.felix.configadmin</code>,  <code class="language-shell highlighter-rouge">org.apache.felix.http.servlet-api</code>, and <code class="language-shell highlighter-rouge">osgi.enroute.web.simple.provider</code> do not specify 
a <code class="language-shell highlighter-rouge">startlevel</code> attribute and will therefore be assigned to start level 13. This value is picked because max(10,12)= 12 + 1 = 13.</p>

<p>Startlevels are assigned before the framework is started, they are updated on the fly if during a debug session the setup changes.</p>

<p>Normally in OSGi the begining start level is selected with the system property <code class="language-shell highlighter-rouge">org.osgi.framework.startlevel.beginning</code>. If
this <code class="language-shell highlighter-rouge"><span class="nt">-runproperty</span></code> is not set then the launcher will set this property before starting the framework to the maximum of
specified levels + 2. If a start level management agent is present then this property should be set, the launcher will
then not interfere.</p>

<p>The bundles are started at during start level 1.</p>

<p>For example, a management agent that manages start levels is placed in start level 1 and all other bundles are placed
at start level 100.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-runbundles</span>: <span class="se">\</span>
	org.apache.felix.configadmin<span class="p">;</span><span class="nv">version</span><span class="o">=</span><span class="s1">'[1.8.8,1.8.9)'</span>,<span class="se">\</span>
	org.apache.felix.http.jetty<span class="p">;</span><span class="nv">version</span><span class="o">=</span><span class="s1">'[3.2.0,3.2.1)'</span><span class="p">;</span><span class="nv">startlevel</span><span class="o">=</span>100,<span class="se">\</span>
	org.apache.felix.http.servlet-api<span class="p">;</span><span class="nv">version</span><span class="o">=</span><span class="s1">'[1.1.2,1.1.3)'</span>,<span class="se">\</span>
	org.example.management.agent<span class="p">;</span><span class="nv">startlevel</span><span class="o">=</span>1
	osgi.enroute.twitter.bootstrap.webresource<span class="p">;</span><span class="nv">version</span><span class="o">=</span><span class="s1">'[3.3.5,3.3.6)'</span><span class="p">;</span><span class="nv">startlevel</span><span class="o">=</span>100,<span class="se">\</span>
	osgi.enroute.web.simple.provider<span class="p">;</span><span class="nv">version</span><span class="o">=</span><span class="s1">'[2.1.0,2.1.1)'</span>
</code></pre></div></div>

<p>The <code class="language-shell highlighter-rouge"><span class="nt">-runproperties</span></code> specify a begining of 1:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-runproperties</span>: <span class="se">\</span>
       org.osgi.framework.startlevel.beginning<span class="o">=</span>1
</code></pre></div></div>

<p>The launcher will install all bundles and assign them their start level. The framework is then started and moves
to level 1. This starts the management agent. This management agent will then move the start level higher to finally
level 100.</p>

<h3 id="packaging">Packaging</h3>

<p>Any bndrun file can be packaged by the launcher plugin. This creates an executable JAR that will contain all its dependencies.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>bnd package xyz.bndrun
</code></pre></div></div>

<p>You can then execute the jar:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>java <span class="nt">-jar</span> xyz.jar
</code></pre></div></div>

<p>You can override all the properties that are embedded in the executable JAR with the <code class="language-shell highlighter-rouge"><span class="nt">-Dlauncher</span>.properties<span class="o">=</span>&lt;file&gt;</code> option of the Java VM. Instead of consulting its internal properties file, the launcher will read the given file. However, you can also set individual System properties with the <code class="language-shell highlighter-rouge"><span class="nt">-D</span></code> option that override a specific launching constant.</p>

<ul>
  <li><code class="language-shell highlighter-rouge">launch.storage.dir</code> – (<code class="language-shell highlighter-rouge"><span class="nt">-runstorage</span></code>) Sets the directory for the framework directory. When <code class="language-shell highlighter-rouge">org.osgi.framework.storage</code> is also set, then the OSGi property has priority.</li>
  <li><code class="language-shell highlighter-rouge">launch.keep</code> – Keeps the OSGi Framework storage around</li>
  <li><code class="language-shell highlighter-rouge">launch.system.packages</code> – Extra system packages</li>
  <li><code class="language-shell highlighter-rouge">launch.system.capabilities</code> – Extra system capabilities</li>
  <li><code class="language-shell highlighter-rouge">launch.trace</code> – Trace the launcher’s progress</li>
  <li><code class="language-shell highlighter-rouge">launch.timeout</code> – Abort after <code class="language-shell highlighter-rouge"><span class="nb">timeout</span></code> milliseconds</li>
  <li><code class="language-shell highlighter-rouge">launch.name</code> – Name of the executable (normally project name)</li>
  <li><code class="language-shell highlighter-rouge">launch.noreferences</code> – Do not use the <code class="language-shell highlighter-rouge">reference:</code> scheme (<code class="language-shell highlighter-rouge"><span class="nt">-runnoreferences</span></code>)</li>
  <li><code class="language-shell highlighter-rouge">launch.notificationPort</code> – A port to send errors to</li>
</ul>

<p>For example, if you want to run your executable in trace mode:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>java <span class="nt">-Dlaunch</span>.trace<span class="o">=</span><span class="nb">true </span>xyz.jar
</code></pre></div></div>

<h3 id="expanding-executable-jars">Expanding Executable JARs</h3>

<p>An executable JAR can be unzipped in a directory. It will then include a Windows and Linuxy shell script to start the executable in expanded form. In the expanded form, the framework will try to use <code class="language-shell highlighter-rouge">reference:</code> URLs to install bundles when not on Windows. (Windows and reference URLs do not work well because Windows keeps files locked.)</p>

<p>If no reference URLs should be used, the <code class="language-shell highlighter-rouge"><span class="nt">-runnoreferences</span><span class="o">=</span><span class="nb">true</span></code> instruction can be set.</p>

<h3 id="properties">Properties</h3>

<p>Framework properties can be set using the <code class="language-shell highlighter-rouge"><span class="nt">-runproperties</span></code> instruction.	 Framework properties do not include the system properties but any property set using <code class="language-shell highlighter-rouge"><span class="nt">-runproperties</span></code> can be overridden with a system property. That is, it is impossible to set a property using the <code class="language-shell highlighter-rouge"><span class="nt">-D</span></code> on the Java command line unless it was prior given a default in the bndrun file.</p>

<p>For example:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bndrun:
<span class="nt">-runproperties</span>: <span class="nv">foo</span><span class="o">=</span>3


<span class="nv">$ </span>java <span class="nt">-Dfoo</span><span class="o">=</span>4 <span class="nt">-Dbar</span><span class="o">=</span>1 xyz.jar
</code></pre></div></div>

<p>In this example, the xyz app will see <code class="language-shell highlighter-rouge"><span class="nv">foo</span><span class="o">=</span>4</code> but <code class="language-shell highlighter-rouge">bar</code> will not be a framework property.</p>

<h3 id="exit-codes">Exit codes</h3>

<p>If the framework stops the launcher will exit. It will set a system exit code that reflects the event type from that the framework returned. The shell script that started the launcher can take the system exit code into account to restart the framework in certain cases.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OSGi FrameworkEvent             Launcher Constant  Value
STOPPED                         STOPPED            <span class="nt">-9</span>
WAIT_TIMEDOUT	                TIMEDOUT           <span class="nt">-3</span>
ERROR                           ERROR              <span class="nt">-2</span>
WARNING                         WARNING            <span class="nt">-1</span>
STOPPED_BOOTCLASSPATH_MODIFIED  STOPPED_UPDATE     <span class="nt">-4</span>
STOPPED_UPDATE                  STOPPED_UPDATE     <span class="nt">-4</span>
</code></pre></div></div>

<p>The launcher therefore returns the process exit code UPDATE_NEEDED(-4) when it requires an update. This was chosen over doing an in-process update because it is much safer. So the launching script should look something like:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">do</span> <span class="o">{</span>
  bnd run app.bndrun
<span class="o">}</span> <span class="k">while</span> <span class="o">(</span><span class="nv">$?</span><span class="o">==</span><span class="nt">-4</span><span class="o">)</span>
</code></pre></div></div>

<h2 id="remote-launching">Remote Launching</h2>

<p>The purpose of the aQute Remote project is to provide remote debugging support for bnd projects. It can be used to debug bundles and bndrun files in a remote machine running an OSGi framework with an agent installed on it; it can also install a framework on a remote machine before it uses the agent. The architecture is heavily optimized to run on small remote machines.</p>

<h3 id="parts">Parts</h3>

<p>This project is the bnd remote launcher. It consists of the following artifacts:</p>

<ul>
  <li><code class="language-shell highlighter-rouge">biz.aQute.remote.launcher</code> – The actual launcher. You can use the <code class="language-shell highlighter-rouge">biz.aQute.remote.launcher</code> by placing it on the <code class="language-shell highlighter-rouge"><span class="nt">-runpath</span></code>. This will override the default launcher. It contains the agent and the bnd launcher plugin.</li>
  <li><code class="language-shell highlighter-rouge">biz.aQute.remote.agent</code> – The agent that must run as a bundle on a framework, or alternatively, runs on the framework side of the classpath and uses the framework’s Bundle Context. That is, you can put this file on the <code class="language-shell highlighter-rouge"><span class="nt">-runpath</span></code> of the <code class="language-shell highlighter-rouge">biz.aQute.launcher</code> bndrun and bnd files.</li>
  <li><code class="language-shell highlighter-rouge">biz.aQute.remote.main</code> – An executable JAR.</li>
</ul>

<h3 id="usage">Usage</h3>

<p>The <code class="language-shell highlighter-rouge">biz.aQute.remote.launcher</code> should be placed on the <code class="language-shell highlighter-rouge"><span class="nt">-runpath</span></code> in a bnd or bndrun file. The remote plugin expects a <code class="language-shell highlighter-rouge"><span class="nt">-runremote</span></code> instruction in the parent file. This property has the following syntax:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-runremote</span> ::<span class="o">=</span> remote <span class="o">(</span><span class="s1">','</span> remote<span class="o">)</span><span class="k">*</span>
remote     ::<span class="o">=</span> NAME <span class="o">(</span> <span class="s1">';'</span> aspect <span class="s1">'='</span> value <span class="o">)</span> <span class="k">*</span>
aspect	   ::<span class="o">=</span> <span class="s1">'jdb'</span> | <span class="s1">'shell'</span> | <span class="s1">'host'</span> | <span class="s1">'agent'</span> | <span class="sb">`</span><span class="nb">timeout</span><span class="sb">`</span>
</code></pre></div></div>

<p>It is possible to specity multiple remote clauses. All sections are started simultaneously. The aspects are described in the following sections:</p>

<ul>
  <li><code class="language-shell highlighter-rouge">jdb</code> – The JDB debug port. This is the port that will be opened by the debugger in the IDE. If this aspect is not set, a number is assigned from 16043, incremented for every session. The debugger will wait until this port becomes available on the required host.</li>
  <li><code class="language-shell highlighter-rouge">host</code> – The name of the remote host. Default <code class="language-shell highlighter-rouge">localhost</code>. Notice that for some Unixes there is a confusion what localhost is, some Linux variants make localhost 127.0.1.1 while the original is 127.0.0.1. So better make sure.</li>
  <li><code class="language-shell highlighter-rouge">shell</code> – The shell that should be used. There are a number of possibilities for this value
    <ul>
      <li>0 – No shell. The IDE shell will not be used</li>
      <li>&lt; 0 – Try to use an available Gogo shell in the framework and open a session. The input/output of the session is forwarded to the IDE console.</li>
      <li>1 – Use the System.in/System.out/System.err streams. This will replace the existing streams (this can be prevented with a security manager). This mode will forward all IO to the original streams.</li>
      <li>
        <blockquote>
          <p>1 – A TCP port. The launcher will attach the port from the remote host and forward any I/O.</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li><code class="language-shell highlighter-rouge">agent</code> – The port on which the agent is listening, the default is ${aQute.agent.server.port}.</li>
  <li><code class="language-shell highlighter-rouge"><span class="nb">timeout</span></code> – Timeout in seconds for the debug connection</li>
</ul>

<p>Additionally, the communication can be traced by setting the <code class="language-shell highlighter-rouge">aQute.remote.util.Link.trace</code> system property to <code class="language-shell highlighter-rouge"><span class="nb">true</span></code> on the target system.</p>

<h3 id="example-bndrun">Example bndrun</h3>

<p>An example remote bndrun file:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">local</span>		<span class="o">=</span>	<span class="se">\</span>
	<span class="nb">local</span><span class="p">;</span> <span class="se">\</span>
	shell   <span class="o">=</span>   4003<span class="p">;</span> <span class="se">\</span>
	jdb     <span class="o">=</span>   1044<span class="p">;</span> <span class="se">\</span>
	host    <span class="o">=</span>   localhost

<span class="nt">-runremote</span>:     <span class="k">${</span><span class="nv">local</span><span class="k">}</span>	
<span class="nt">-runfw</span>:         org.apache.felix.framework<span class="p">;</span><span class="nv">version</span><span class="o">=</span><span class="s1">'[4,5)'</span>
<span class="nt">-runee</span>:         JavaSE-1.8
<span class="nt">-runproperties</span>: gosh.args<span class="o">=</span><span class="nt">--noshutdown</span>, osgi.shell.telnet.port<span class="o">=</span>4003

<span class="nt">-runpath</span>:       biz.aQute.remote.launcher<span class="p">;</span><span class="nv">version</span><span class="o">=</span>latest
<span class="nt">-runrequires</span>:<span class="se">\</span>
	osgi.identity<span class="p">;</span>filter:<span class="o">=</span><span class="s1">'(osgi.identity=org.apache.felix.gogo.shell)'</span>,<span class="se">\</span>
	osgi.identity<span class="p">;</span>filter:<span class="o">=</span><span class="s1">'(osgi.identity=org.apache.felix.gogo.command)'</span>

<span class="nt">-runbundles</span>:<span class="se">\</span>
	launch.simple.really<span class="p">;</span><span class="nv">version</span><span class="o">=</span>latest, <span class="se">\</span>
	org.apache.felix.gogo.shell,<span class="se">\</span>
	org.apache.felix.gogo.command,<span class="se">\</span>
	org.apache.felix.gogo.runtime, <span class="se">\</span>
	org.apache.felix.shell.remote
</code></pre></div></div>

<h3 id="example-bndrun-with-the--javaagent-parameter">Example bndrun with the -javaagent parameter</h3>

<p>One example where a javaagent is used is the <a href="https://www.eclemma.org/jacoco/">JaCoCo Java Code Coverage Library</a>.
The following example shows how Jacoco v0.8.5 can be started by adding the <em>-javaagent</em> parameter via <em>-runvm</em> as a VM-option.</p>

<ul>
  <li>add jacocoagent.jar to a <a href="https://bndtools.org/repositories.html">bndtools repository</a>: Maven coordinates: <em>org.jacoco:org.jacoco.agent:jar:runtime:0.8.5</em> 
Note: the <em>runtime</em> classifier is important, to  get the jacocoagent which defines a Premain-Class (see <a href="https://www.jacoco.org/jacoco/trunk/doc/repo.html">maven artifacts</a>)</li>
  <li>
    <p>create new <em>myapp.coverage.bndrun</em> which inherits from parent <em>myapp.bndrun</em></p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">-include</span>: myapp.bndrun

  <span class="nt">-runvm</span>.coverage: <span class="nt">-javaagent</span>:<span class="s2">"</span><span class="k">${</span><span class="nv">repo</span><span class="p">;org.jacoco</span>:org.jacoco.agent:jar:runtime<span class="p">;latest</span><span class="k">}</span><span class="s2">=output=tcpserver,jmx=true"</span>
</code></pre></div>    </div>
  </li>
  <li>In Eclipse open the <em>myapp.coverage.bndrun</em> and start your application.</li>
</ul>

<p><strong>A few notes about  the example:</strong></p>

<ul>
  <li>The example assumes a <a href="https://bndtools.org/workspace.html">bnd workspace</a> in Eclipse and a Maven Repository using <a href="/plugins/maven.html"><em>aQute.bnd.repository.maven.provider.MavenBndRepository</em></a></li>
  <li>This allows specifying dependencies e.g. in <em>/cnf/central.maven</em> (this is what is referenced above via the <a href="/macros/repo.html"><em>${repo}</em> macro</a>)</li>
  <li>
    <p>the additional parameters <em>=output=tcpserver,jmx=true</em> are <a href="https://www.eclemma.org/jacoco/trunk/doc/agent.html">JaCoCo-specific</a> to start the agent as tcpserver and also expose functionality via JMX</p>
  </li>
  <li><em>runvm.coverage</em> is a <a href="820-instructions.html#merged-instructions">merged instruction</a> (because of the suffix .coverage). It gets merged with a <em>-runvm</em> parameter from the included parent myapp.bndrun. Advantage: Avoid repeating all the VM-options the from the parent <em>-runvm</em> again, but just specify the additional parameters.</li>
  <li>Usage in Eclipse: open “Coverage View” , right click “Import Session”, choose “Agent Adress 127.0.0.1 Port 6300”, press “Next”, Select the project to Monitor, Click “Finish”</li>
</ul>

				</main>
			</div>
	</ul>




	
<footer class="container12" style="border-top: 1px solid black;padding:10px 0">
	<div class="container-right">
		<nav class="next-prev" data-pagefind-ignore>
     
    <a href='/releases/7.2.0/chapters/250-resolving.html' title="Resolving Dependencies">Prev</a> 
     
    
    <a href='/releases/7.2.0/chapters/305-startlevels.html' title="Startlevels">Next</a>
     
</nav>
	</div>

	<div class="modal" id="searchmodal" aria-hidden="true">
    <div class="modal_overlay" tabindex="-1">
        <div class="modal_container" role="dialog" aria-modal="true">
            <header class="modal_header" style="margin-bottom: 10px;">
                <b>
                    Search
                    <button class="modal_btn modal_btn-primary" data-modal-close=""
                        aria-label="Close this dialog window" style="float:right;">Close</button>
                </b>
            </header>
            <main class="modal_content" id="modalcontent">
                <div id="pagefindsearch"></div>
            </main>
            <footer class="modal_footer">

            </footer>
        </div>
    </div>
</div>

<style>
    /* Basic styling to hide/show the modal */
    .modal {
        display: none;
        /* Hidden by default */
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
    }

    /* Container for modal content */
    .modal_container {
        background: #fff;
        margin: 5% auto;
        /* Position the box somewhat centered */
        padding: 1rem;
        max-width: 600px;
        border-radius: 4px;
        position: relative;

        /* Height and overflow for scrolling */
        max-height: 80vh;
        /* Use 80% of the viewport height */
        overflow-y: auto;
        /* Enable scrolling within the modal */
    }

    /* When modal is open, display it */
    .modal.is-open {
        display: block;
    }
</style>

<script type="text/javascript">
    // Function to open the modal
    function openModal() {
        const modal = document.getElementById('searchmodal');
        // Change aria-hidden to false
        modal.setAttribute('aria-hidden', 'false');
        // Add a class to make it visible (assuming CSS uses .is-open to show)
        modal.classList.add('is-open');

        const searchFieldInput = document.querySelector('#modalcontent input');
        searchFieldInput.focus();

        // Define an event listener for the ESC key
        escapeKeyListener = function (event) {
            if (event.key === 'Escape' || event.key === 'Esc') {
                closeModal(modal);
            }
        };

        // Attach the ESC key event listener
        document.addEventListener('keydown', escapeKeyListener);

        // Attach click event listeners to close triggers
        attachCloseEvents(modal);
    }

    function attachCloseEvents(modal) {
        // Get all elements that can close the modal (overlay and close button)
        const closeElements = modal.querySelectorAll('[data-modal-close]');

        closeElements.forEach(el => {
            el.addEventListener('click', function handleClose() {
                closeModal(modal);
                // Remove this event listener once closed (cleanup)
                el.removeEventListener('click', handleClose);
            });
        });
    }

    // Function to close the modal
    function closeModal(modal) {
        modal.setAttribute('aria-hidden', 'true');
        modal.classList.remove('is-open');
    }
</script>



<link href="/releases/7.2.0/pagefindindex/pagefind-ui.css" rel="stylesheet">
<script src="/releases/7.2.0/pagefindindex/pagefind-ui.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({
            element: "#pagefindsearch",
            showSubResults: true,
            translations: {
                placeholder: "Search the bnd manual",
            },
            openFilters: ['pagetype']

        });
    });
</script>

	<ul span=12 row>
		<li span=12>
			<ul>
				<li><a href="/releases/7.2.0/">Home</a>
			</ul>
	</ul>

	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded', () => {
			const headers = document.querySelectorAll('h1[id], h2[id], h3[id], h4[id]');

			headers.forEach(header => {
				const iconLink = document.createElement('a');
				iconLink.href = `#${header.id}`;
				iconLink.innerHTML = '#';
				iconLink.className = 'header-link';

				// Wrap the icon inside a span to control visibility with CSS
				const wrapper = document.createElement('span');
				wrapper.className = 'header-link-wrapper';
				wrapper.appendChild(iconLink);

				// Append the wrapper to the header
				header.appendChild(wrapper);
			});
		});


		// copy to clipboard buttons

		const copyButtonLabel = "Copy";
		let blocks = document.querySelectorAll("pre.highlight");

		blocks.forEach((block) => {
		// only add button if browser supports Clipboard API
		if (navigator.clipboard) {
			let button = document.createElement("button");
			button.classList.add("copycodebtn");

			button.innerText = copyButtonLabel;
			block.appendChild(button);

			button.addEventListener("click", async () => {
			await copyCode(block, button);
			});

		}
		});

		async function copyCode(block, button) {
		let code = block.querySelector("code");
		let text = code.innerText;

		await navigator.clipboard.writeText(text);

		button.innerText = "Copied";

			setTimeout(()=> {
				button.innerText = copyButtonLabel;
			},2000)
		}
	</script>

</footer>

</body>
</html>
