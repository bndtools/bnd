<!DOCTYPE html>
<html lang="en" ng-app="jpm">

	<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="/releases/4.2.0/css/style.css" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="/js/releases.js"></script>
<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>-exportreport report-def ( ‘,’ report-def )*</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="-exportreport report-def ( ‘,’ report-def )*" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The purpose of the -exportreport instruction is to configure a list of reports of the current state of the workspace and/or its projects, which can then be exported by the build tool. The primary usage is to automate the documentation of projects." />
<meta property="og:description" content="The purpose of the -exportreport instruction is to configure a list of reports of the current state of the workspace and/or its projects, which can then be exported by the build tool. The primary usage is to automate the documentation of projects." />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-10-12T19:48:23-04:00" />
<script type="application/ld+json">
{"headline":"-exportreport report-def ( ‘,’ report-def )*","dateModified":"2019-10-12T19:48:23-04:00","datePublished":"2019-10-12T19:48:23-04:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/releases/4.2.0/instructions/exportreport.html"},"url":"/releases/4.2.0/instructions/exportreport.html","description":"The purpose of the -exportreport instruction is to configure a list of reports of the current state of the workspace and/or its projects, which can then be exported by the build tool. The primary usage is to automate the documentation of projects.","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->




































































</head>


<body>


<ul class="container12 menu-bar">
	<li span=11><a class=menu-link href="/releases/4.2.0/"><img
			class=menu-logo src='/releases/4.2.0/img/bnd-80x40-white.png'></a>
			<a href="/releases/4.2.0/chapters/110-introduction.html">Intro
			</a><a href="/releases/4.2.0/chapters/800-headers.html">Headers
			</a><a href="/releases/4.2.0/chapters/825-instructions-ref.html">Instructions
			</a><a href="/releases/4.2.0/chapters/855-macros-ref.html">Macros
			</a><a href="/releases/4.2.0/chapters/400-commands.html">Commands
			</a><div class="releases"><button class="dropbtn">4.2.0</button><div class="dropdown-content"></div></div>

	<li class=menu-link span=1>
			<a href="https://github.com/bndtools/bnd" target="_"><img
	style="position:absolute;top:0;right:0;margin:0;padding:0;z-index:100"
	src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67"
	alt="Fork me on GitHub"
	data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
</ul>




	<ul class=container12>
		<li span=3>
			<div>
			<ul class="side-nav">


			<li><a href="/releases/4.2.0/chapters/110-introduction.html">Introduction</a>



			<li><a href="/releases/4.2.0/chapters/120-install.html">How to install bnd</a>



			<li><a href="/releases/4.2.0/chapters/123-tour-workspace.html">Guided Tour</a>



			<li><a href="/releases/4.2.0/chapters/125-tour-features.html">Guided Tour Workspace & Projects</a>



			<li><a href="/releases/4.2.0/chapters/130-concepts.html">Concepts</a>



			<li><a href="/releases/4.2.0/chapters/140-best-practices.html">Best practices</a>



			<li><a href="/releases/4.2.0/chapters/150-build.html">Build</a>



			<li><a href="/releases/4.2.0/chapters/160-jars.html">Generating JARs</a>



			<li><a href="/releases/4.2.0/chapters/170-versioning.html">Versioning</a>



			<li><a href="/releases/4.2.0/chapters/180-baselining.html">Baselining</a>



			<li><a href="/releases/4.2.0/chapters/200-components.html">Service Components</a>



			<li><a href="/releases/4.2.0/chapters/210-metatype.html">Metatype</a>



			<li><a href="/releases/4.2.0/chapters/220-contracts.html">Contracts</a>



			<li><a href="/releases/4.2.0/chapters/230-manifest-annotations.html">Manifest Annotations</a>



			<li><a href="/releases/4.2.0/chapters/250-resolving.html">Resolving Dependencies</a>



			<li><a href="/releases/4.2.0/chapters/300-launching.html">Launching</a>



			<li><a href="/releases/4.2.0/chapters/305-Junit-Testing-OSGi.html">Plain JUnit Testing with OSGi (PRELIMENARY)</a>



			<li><a href="/releases/4.2.0/chapters/310-testing.html">Testing</a>



			<li><a href="/releases/4.2.0/chapters/320-packaging.html">Packaging Applications</a>



			<li><a href="/releases/4.2.0/chapters/390-wrapping.html">Wrapping Libraries to OSGi Bundles</a>



			<li><a href="/releases/4.2.0/chapters/400-commands.html">Commands</a>



			<li><a href="/releases/4.2.0/chapters/600-developer.html">For Developers</a>



			<li><a href="/releases/4.2.0/chapters/700-tools.html">Tools bound to bnd</a>



			<li><a href="/releases/4.2.0/chapters/800-headers.html">Headers</a>



			<li><a href="/releases/4.2.0/chapters/820-instructions.html">Instruction Reference</a>



			<li><a href="/releases/4.2.0/chapters/825-instructions-ref.html">Instruction Index</a>



			<li><a href="/releases/4.2.0/chapters/850-macros.html">Macro Reference</a>



			<li><a href="/releases/4.2.0/chapters/855-macros-ref.html">Macro Index</a>



			<li><a href="/releases/4.2.0/chapters/870-plugins.html">Plugins</a>



			<li><a href="/releases/4.2.0/chapters/880-settings.html">Settings</a>



			<li><a href="/releases/4.2.0/chapters/900-errors.html">Errors</a>



			<li><a href="/releases/4.2.0/chapters/910-warnings.html">Warnings</a>



			<li><a href="/releases/4.2.0/chapters/920-faq.html">Frequently Asked Questions</a>


</ul>

			</div>

		<li span=9>
			<div class=notes-margin>
				<h1> -exportreport report-def ( ',' report-def )*</h1>
				<p>The purpose of the <code class="highlighter-rouge">-exportreport</code> instruction is to configure a list of reports of the current state of the workspace and/or its projects, which can then be exported by the build tool. The primary usage is to automate the documentation of projects.</p>

<p>Based on this instruction, a tool can aggregate data from a source (a specific project or the entire workspace) and export them into one file (<code class="highlighter-rouge">XML</code> or <code class="highlighter-rouge">JSON</code>). The resulting files can then be used by any external programs (such as <em>Jekyll</em> to generate a static site) or a template file can be specified to transform the data before they are written (to generate a <em>readme</em> file for example).</p>

<p><em>See <a href="../commands/exportreport.md">-exportreport</a> command documentation to export the reports.</em></p>

<h2 id="syntax">Syntax</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-exportreport    ::= report-def ( ',' report-def ) *
report-def       ::= path ( ';' option ) *
option           ::= scope | template | templateType | parameters | locale | configName
scope            ::= 'scope' '=' ( 'workspace' | 'project' | EXTENSION )
template         ::= 'template' '=' ( path | url )
templateType     ::= 'templateType' '=' ( 'xslt' | 'twig' | EXTENSION )
parameters       ::= 'parameters' '=' '"' parameter ( ',' parameter )* '"'
locale           ::= 'locale' '=' &lt;language&gt; ( '-' &lt;country&gt; ( '-' &lt;variant&gt; )? )?
configName       ::= 'configName' '=' extended
</code></pre></div></div>

<p><em>This is a merged instruction.</em></p>

<h2 id="example">Example</h2>

<p>The most simple configuration is to generate a file which will contain all the OSGI headers, metatypes declarations, declarative services, … of a bundle built by a project:</p>

<p><strong>bnb.bnd</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-exportreport: metadata.json
</code></pre></div></div>

<p>an <code class="highlighter-rouge">XML</code> file can also be generated</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-exportreport: metadata.xml
</code></pre></div></div>

<h2 id="advanced-usage">Advanced usage</h2>

<h3 id="targeting-the-data-source">Targeting the data source</h3>

<p>The <code class="highlighter-rouge">scope</code> attribute allows to define all the reports in a common place and to target the source of the extracted data. In Bnd, the two possible values are <em>workspace</em> and <em>project</em> but other tools (such as Maven) could define their own scopes.</p>

<p>For example, the following configuration will generate a report at the workspace root, which will aggregate data of all the projects, and one report per project:</p>

<p><strong>build.bnd</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-exportreport: \
   ${workspace}/jekyll_metadata.json;scope=workspace, \
   metadata.json;scope=project
</code></pre></div></div>

<h3 id="transformation">Transformation</h3>

<p>The <code class="highlighter-rouge">template</code> attribute allows to specify a <em>path</em> or an <em>URL</em> to a template file. In Bnd, two template types are accepted: <em>XSLT</em> and <em>TWIG</em>.</p>

<p>For example, a template can be used to generate a markdown file:</p>

<p><strong>bnd.bnd</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-exportreport: readme.md;template=/home/me/templates/readme.twig
</code></pre></div></div>

<p>If the extension file is missing, the <code class="highlighter-rouge">templateType</code> attribute can be used to indicate the template type:</p>

<p><strong>bnd.bnd</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-exportreport: webpage.html;template=http:&lt;...&gt;/f57ge56a;templateType=xslt
</code></pre></div></div>

<p>If the template file needs to be parametrized, the <code class="highlighter-rouge">parameters</code> attribute can be used to provide a list of parameters and their values:</p>

<p><strong>bnd.bnd</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-exportreport: \
   webpage.html; \
     template=&lt;...&gt;/template.xslt; \
     parameters="oneKey=&lt;path to other template&gt;,otherKey=api-bundle"
</code></pre></div></div>

<blockquote>
  <p>If a file with the same name as the exported report but with a template file extension is found in the same folder as the exported report, this file will be used to transform the report instead of the optionally defined <code class="highlighter-rouge">template</code> attribute. This allows to quickly customize a report without redefining an inherited instruction.</p>
</blockquote>

<h3 id="internationalisation">Internationalisation</h3>

<p>The <code class="highlighter-rouge">locale</code> attribute can be used to extract the data for a specific locale. For example, if a bundle defines some metatype description in French:</p>

<p><strong>bnd.bnd</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-exportreport: report.json;locale=fr-FR
</code></pre></div></div>

<h3 id="customisation-of-the-report-content">Customisation of the Report Content</h3>

<p>In some case, it may be necessary to control what data should be present in the report, for example if you use external plugins to contribute to the extraction and aggregation phase. For this you can use the <code class="highlighter-rouge">-reportconfig</code> instruction to create named configuration of reports.</p>

<p>With the <code class="highlighter-rouge">configName</code> attribute you can reference the configuration name that will be used to extract and aggregate the data of the report.</p>

<p><em>See the <a href="./reportconfig.md">-reportconfig</a> instruction documentation for more information.</em></p>

<h3 id="case-of-sub-projects">Case of Sub-Projects</h3>

<p>Reports are generated from workspaces and projects. However, in case of sub-projects, it may be necessary to generate a file for each built bundle and to know what bundle must be process by the template engine. For this, you can define a paramater in your template file and provide a different value for each bundle, for example:</p>

<p><strong>build.bnd</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-exportreport: \
   readme.md;template=&lt;...&gt;/readme.twig;scope=project
</code></pre></div></div>

<p><strong>bnd.bnd</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-exportreport.sub: \
   mybundle.api.md; \
     template=&lt;...&gt;/readme.twig; \
     parameters="currentBundle=mybundle.api", \
   mybundle.provider.md; \
     template=&lt;...&gt;/readme.twig; \
     parameters="currentBundle=mybundle.provider"
</code></pre></div></div>

<p>For this specific multi-project, this will generate three files:</p>

<ul>
  <li>readme.md</li>
  <li>mybundle.api.md</li>
  <li>mybundle.provider.md</li>
</ul>

			</div>
	</ul>


<nav class=next-prev>
	<a href='/releases/4.2.0/instructions/exportcontents.html'></a> <a href='/releases/4.2.0/instructions/extension.html'></a>
</nav>
<footer class="container12" style="border-top: 1px solid black;padding:10px 0">
	<ul span=12 row>
		<li span=12>
			<ul>
				<li><a href="/releases/4.2.0/">GitHub</a>
			</ul>
	</ul>
</footer>

</body>
</html>
