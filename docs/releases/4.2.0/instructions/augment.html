<!DOCTYPE html>
<html lang="en" ng-app="jpm">

	<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="/releases/4.2.0/css/style.css" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="/js/releases.js"></script>
<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>-augment PARAMETER ( ‘,’ PARAMETER ) *</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="-augment PARAMETER ( ‘,’ PARAMETER ) *" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The -augment instruction can be used to augment resources in the repositories. Augmenting is adding additional capabilities and requirements. When bnd resolves a project or bndrun file then, it will read this variable (it is a merge property so you can also use additional keys like -augment.xyz) and use it to decorate the repository entries." />
<meta property="og:description" content="The -augment instruction can be used to augment resources in the repositories. Augmenting is adding additional capabilities and requirements. When bnd resolves a project or bndrun file then, it will read this variable (it is a merge property so you can also use additional keys like -augment.xyz) and use it to decorate the repository entries." />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-10-12T19:48:23-04:00" />
<script type="application/ld+json">
{"headline":"-augment PARAMETER ( ‘,’ PARAMETER ) *","dateModified":"2019-10-12T19:48:23-04:00","datePublished":"2019-10-12T19:48:23-04:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/releases/4.2.0/instructions/augment.html"},"url":"/releases/4.2.0/instructions/augment.html","description":"The -augment instruction can be used to augment resources in the repositories. Augmenting is adding additional capabilities and requirements. When bnd resolves a project or bndrun file then, it will read this variable (it is a merge property so you can also use additional keys like -augment.xyz) and use it to decorate the repository entries.","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->




































































</head>


<body>


<ul class="container12 menu-bar">
	<li span=11><a class=menu-link href="/releases/4.2.0/"><img
			class=menu-logo src='/releases/4.2.0/img/bnd-80x40-white.png'></a>
			<a href="/releases/4.2.0/chapters/110-introduction.html">Intro
			</a><a href="/releases/4.2.0/chapters/800-headers.html">Headers
			</a><a href="/releases/4.2.0/chapters/825-instructions-ref.html">Instructions
			</a><a href="/releases/4.2.0/chapters/855-macros-ref.html">Macros
			</a><a href="/releases/4.2.0/chapters/400-commands.html">Commands
			</a><div class="releases"><button class="dropbtn">4.2.0</button><div class="dropdown-content"></div></div>

	<li class=menu-link span=1>
			<a href="https://github.com/bndtools/bnd" target="_"><img
	style="position:absolute;top:0;right:0;margin:0;padding:0;z-index:100"
	src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67"
	alt="Fork me on GitHub"
	data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
</ul>




	<ul class=container12>
		<li span=3>
			<div>
			<ul class="side-nav">


			<li><a href="/releases/4.2.0/chapters/110-introduction.html">Introduction</a>



			<li><a href="/releases/4.2.0/chapters/120-install.html">How to install bnd</a>



			<li><a href="/releases/4.2.0/chapters/123-tour-workspace.html">Guided Tour</a>



			<li><a href="/releases/4.2.0/chapters/125-tour-features.html">Guided Tour Workspace & Projects</a>



			<li><a href="/releases/4.2.0/chapters/130-concepts.html">Concepts</a>



			<li><a href="/releases/4.2.0/chapters/140-best-practices.html">Best practices</a>



			<li><a href="/releases/4.2.0/chapters/150-build.html">Build</a>



			<li><a href="/releases/4.2.0/chapters/160-jars.html">Generating JARs</a>



			<li><a href="/releases/4.2.0/chapters/170-versioning.html">Versioning</a>



			<li><a href="/releases/4.2.0/chapters/180-baselining.html">Baselining</a>



			<li><a href="/releases/4.2.0/chapters/200-components.html">Service Components</a>



			<li><a href="/releases/4.2.0/chapters/210-metatype.html">Metatype</a>



			<li><a href="/releases/4.2.0/chapters/220-contracts.html">Contracts</a>



			<li><a href="/releases/4.2.0/chapters/230-manifest-annotations.html">Manifest Annotations</a>



			<li><a href="/releases/4.2.0/chapters/250-resolving.html">Resolving Dependencies</a>



			<li><a href="/releases/4.2.0/chapters/300-launching.html">Launching</a>



			<li><a href="/releases/4.2.0/chapters/305-Junit-Testing-OSGi.html">Plain JUnit Testing with OSGi (PRELIMENARY)</a>



			<li><a href="/releases/4.2.0/chapters/310-testing.html">Testing</a>



			<li><a href="/releases/4.2.0/chapters/320-packaging.html">Packaging Applications</a>



			<li><a href="/releases/4.2.0/chapters/390-wrapping.html">Wrapping Libraries to OSGi Bundles</a>



			<li><a href="/releases/4.2.0/chapters/400-commands.html">Commands</a>



			<li><a href="/releases/4.2.0/chapters/600-developer.html">For Developers</a>



			<li><a href="/releases/4.2.0/chapters/700-tools.html">Tools bound to bnd</a>



			<li><a href="/releases/4.2.0/chapters/800-headers.html">Headers</a>



			<li><a href="/releases/4.2.0/chapters/820-instructions.html">Instruction Reference</a>



			<li><a href="/releases/4.2.0/chapters/825-instructions-ref.html">Instruction Index</a>



			<li><a href="/releases/4.2.0/chapters/850-macros.html">Macro Reference</a>



			<li><a href="/releases/4.2.0/chapters/855-macros-ref.html">Macro Index</a>



			<li><a href="/releases/4.2.0/chapters/870-plugins.html">Plugins</a>



			<li><a href="/releases/4.2.0/chapters/880-settings.html">Settings</a>



			<li><a href="/releases/4.2.0/chapters/900-errors.html">Errors</a>



			<li><a href="/releases/4.2.0/chapters/910-warnings.html">Warnings</a>



			<li><a href="/releases/4.2.0/chapters/920-faq.html">Frequently Asked Questions</a>


</ul>

			</div>

		<li span=9>
			<div class=notes-margin>
				<h1> -augment PARAMETER ( ',' PARAMETER ) *</h1>
				<p>The <code class="highlighter-rouge">-augment</code> instruction can be used to <em>augment</em> resources in the repositories. Augmenting is adding additional capabilities and requirements. When bnd resolves a project or bndrun file then, it will read this variable (it is a merge property so you can also use additional keys like <code class="highlighter-rouge">-augment.xyz</code>) and use it to <em>decorate</em> the repository entries.</p>

<p>The key of the <code class="highlighter-rouge">PARAMETER</code> is for the bundle symbolic name. It can contain the * wildcard character to match multiple bundles. The bundle symbolic name must be allowed as a value in a filter it is therefore <strong>not</strong> a globbing expression.</p>

<p>The following directives and attribute are architected:</p>

<ul>
  <li><code class="highlighter-rouge">version</code> – A version range. If a single version is given it will be used as <code class="highlighter-rouge">[&lt;version&gt;,∞)</code>. The version range can be prefixed with an ‘@’ for a consumer range (to the next major) or a provider range (to the next minor) when the ‘@’ is a suffix of the version. The range can restrict the augmentation to a limited set of bundles.</li>
  <li><code class="highlighter-rouge">capability:</code> – The <code class="highlighter-rouge">capability:</code> directive specifies a <code class="highlighter-rouge">Provide-Capability</code> instruction, this will therefore likely have to be quoted. Any number of clauses can be specified.</li>
  <li><code class="highlighter-rouge">requirement:</code> – The <code class="highlighter-rouge">requirement:</code> directive specifies a <code class="highlighter-rouge">Require-Capability</code> instruction.</li>
</ul>

<p>To augment the repositories during a resolve, bnd will find all bundles that match the bundle symbolic name and fall within the defined range. If no range is given, only the bundle symbolic name will constrain the search. Each found bundle will then be decorated with the capabilities and requirements defined in the <code class="highlighter-rouge">capability:</code> and <code class="highlighter-rouge">requirement:</code> directive.</p>

<p>For example, we need to provide an extender capability to a bundle with the bundle symbolic name <code class="highlighter-rouge">com.example.prime</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-augment.prime = \
	com.example.prime; \
		capability:='osgi.extender; \
			osgi.extender=osgi.component; \
			version:Version=1.2'
</code></pre></div></div>

<p>The <code class="highlighter-rouge">capability:</code> and <code class="highlighter-rouge">requirement:</code> directives follow all the rules of the Provide-Capability and Require-Capability headers respectively. For the resolver, it is as if these headers were specified in their manifests. There is one exception, the <code class="highlighter-rouge">cap:</code> and <code class="highlighter-rouge">req:</code> directives also support capabilities from the <code class="highlighter-rouge">osgi.wiring.*</code> name spaces.</p>

<h2 id="caveats">Caveats</h2>

<p>It should be realized that the augmentation is <em>only</em> used during resolving. These requirements &amp; capabilities are <strong>not</strong> added to the actual bundles during runtime. The primary purpose is to ensure that the resolve can properly assemble a system; great care should be taken to not create assemblies that cannot be resolved by the framework.</p>

			</div>
	</ul>


<nav class=next-prev>
	<a href='/releases/4.2.0'></a> <a href='/releases/4.2.0/instructions/baseline.html'></a>
</nav>
<footer class="container12" style="border-top: 1px solid black;padding:10px 0">
	<ul span=12 row>
		<li span=12>
			<ul>
				<li><a href="/releases/4.2.0/">GitHub</a>
			</ul>
	</ul>
</footer>

</body>
</html>
